import{NextSeo as t}from"next-seo";import e from"react-markdown";import i from"remark-gfm";import n from"next/link.js";import r from"markdown-truncate";import a from"remark-breaks";function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o.apply(this,arguments)}const l=({seo:e={},site:i={},pathname:n,title:r,subtitle:a,description:l,noindex:m=!1})=>{const g=c({seo:e,site:i,pathname:n}),{globalSeo:u,favicon:p}=i,d=p?p.map(({attributes:t})=>o({},t)):[],f=s(g["og:image"],g["og:image:width"],g["og:image:height"]),b=`${process.env.NEXT_PUBLIC_SITE_URL}${n||""}`;return r=`${r=r||(u?null==u?void 0:u.siteName:"Site title")} ${null!=u&&u.titleSuffix?` ${null==u?void 0:u.titleSuffix}`:""}${a?` ${a}`:""}`,l=l||(g.description?g.description:u?null==u?void 0:u.fallbackSeo.description:"Site description"),h(t,{title:r,description:l,canonical:b,openGraph:{url:b,title:r,description:l,images:f,locale:g["og:locale"],type:g["og:type"],site_name:g["og:site_name"]},twitter:{title:r,image:g["og:image"],handle:null==u?void 0:u.twitterAccount,site:null==u?void 0:u.twitterAccount,cardType:"summary_large_image"},additionalLinkTags:d,noindex:m,nofollow:m})},s=(t,e,i)=>{if(t)return t.split("?"),[{url:t,width:e,height:i}]},c=({seo:t,site:e,pathname:i})=>{if(!t||!e)return[];const{globalSeo:n}=e||{},{fallbackSeo:r}=n||{};let a=(Array.isArray(t)?t:t.tags)||[],l=a.filter(t=>"title"===t.tag)[0];l&&n&&("/"===i?l=o({},l,{content:n.siteName}):n&&l.content.startsWith(n.siteName)&&(l=o({},l,{content:`${n.siteName} â€“ ${l.content}`}))),a=a.map(t=>"title"!==t.tag?t:l);const s={};if(a.forEach(t=>{s[t.attributes?t.attributes.property||t.attributes.name:t.tag]=t.attributes?t.attributes.content||t.attributes:t.content}),!s["og:image"]&&null!=r&&r.image){const t=1e3,e=1-(r.image.width-t)/r.image.width;s["og:image"]=`${r.image.url}?w=1000`,s["og:image:width"]=t,s["og:image:height"]=Math.round(r.image.height*e)}return s},m=({children:t,truncate:o,className:l,sentances:s})=>{if(!t)return null;const c=o?r(t,{limit:o,ellipsis:!0}):s?((t,e)=>{if(!t)return t;const i=t.split(".");return i.length>=e?i.slice(0,e).join(" ")+"...":t})(t,s):t;return h(e,{remarkPlugins:[i,a],className:l,children:c,components:{a:({children:t,href:e})=>h(n,{scroll:!1,href:e},h("a",null,t[0]))}})};export{m as DatoMarkdown,l as DatoSEO};
//# sourceMappingURL=index.modern.js.map
