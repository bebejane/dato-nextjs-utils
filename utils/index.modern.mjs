function n(r,e,i){if(!r.s){if(i instanceof t){if(!i.s)return void(i.o=n.bind(null,r,e));1&e&&(e=i.s),i=i.v}if(i&&i.then)return void i.then(n.bind(null,r,e),n.bind(null,r,2));r.s=e,r.v=i;const o=r.o;o&&o(r)}}var t=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(r,e){var i=new t,o=this.s;if(o){var u=1&o?r:e;if(u){try{n(i,1,u(this.v))}catch(t){n(i,2,t)}return i}return this}return this.o=function(t){try{var o=t.v;1&t.s?n(i,1,r?r(o):o):e?n(i,1,e(o)):n(i,2,o)}catch(t){n(i,2,t)}},i},t}();function r(n){return n instanceof t&&1&n.s}var e="undefined"==typeof window,i=function(n,t){for(var r=[],e=0;e<n.length;e+=t)r.push(n.slice(e,e+t));return r},o=function(n){return n.errors.map(function(n){var t=n.attributes,r=t.details;return{code:t.code,field:null==r?void 0:r.field,message:null==r?void 0:r.message,detailsCode:null==r?void 0:r.code,errors:Array.isArray(null==r?void 0:r.errors)?null==r?void 0:r.errors.join(". "):void 0}}).map(function(n){var t=n.field,r=n.errors;return n.code+" "+(t?"("+t+")":"")+" "+(n.message||"")+" "+(n.detailsCode||"")+" "+(r?"("+r+")":"")}).join("\n")},u=function(n){return 0===Object.keys(n).filter(function(t){return void 0!==n[t]}).length},f=function(n,t){return void 0===t&&(t=!1),(t?n.toLowerCase():n).replace(/(?:^|\s|["'([{])+\S/g,function(n){return n.toUpperCase()})},c=function(n){return new Promise(function(t,r){return setTimeout(t,n)})},s=function(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n},a=function(n,t,r,e){var i,o;if(void 0===t&&(t=1),void 0===r&&(r=!0),void 0===e&&(e=200),!n||n.length<e)return n;var u=null==(i=n.split("."))?void 0:i.slice(0,t+1).join(".").lastIndexOf("."),f=null==(o=n.split("? "))?void 0:o.slice(0,t+1).join("? ").lastIndexOf("? "),c=-1!==f&&f<u||-1===u&&f>-1;return-1===u&&-1===f&&(u=e-1,r=!0),n.substring(0,c?f:u)+(r?"...":c?"?":".")},d=function(n,t){if(n.length<=t)return n;var r=n.substring(0,t),e=r.lastIndexOf(" ");return-1!==e&&(r=r.substr(0,e)),r+"..."},v=function(n,t){var r=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Å","Ä","Ö"];return n.sort(function(n,e){var i=r.findIndex(function(r){return r===(t?n[t]:n).charAt(0).toUpperCase()}),o=r.findIndex(function(n){return n===(t?e[t]:e).charAt(0).toUpperCase()});return i>o?1:i===o?0:-1})},l=function(e){try{var i,o=function(n){if(i)return n;throw new Error("Element "+e+" not found")},u=0,f=function(e,i,o){for(var u;;){var f=e();if(r(f)&&(f=f.v),!f)return c;if(f.then){u=0;break}var c=o();if(c&&c.then){if(!r(c)){u=1;break}c=c.s}if(i){var s=i();if(s&&s.then&&!r(s)){u=2;break}}}var a=new t,d=n.bind(null,a,2);return(0===u?f.then(l):1===u?c.then(v):s.then(h)).then(void 0,d),a;function v(t){c=t;do{if(i&&(s=i())&&s.then&&!r(s))return void s.then(h).then(void 0,d);if(!(f=e())||r(f)&&!f.v)return void n(a,1,c);if(f.then)return void f.then(l).then(void 0,d);r(c=o())&&(c=c.v)}while(!c||!c.then);c.then(v).then(void 0,d)}function l(t){t?(c=o())&&c.then?c.then(v).then(void 0,d):v(c):n(a,1,c)}function h(){(f=e())?f.then?f.then(l).then(void 0,d):l(f):n(a,1,c)}}(function(){return!i&&u<100},function(){return u++},function(){var n=document.querySelector(function(n){return(n.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(t){n=n.replace(t,'[id="'+t.replace("#","")+'"]')}),n}(e));return n?(i=1,n):Promise.resolve(c(30)).then(function(){})});return Promise.resolve(f&&f.then?f.then(o):o(f))}catch(n){return Promise.reject(n)}};export{l as awaitElement,f as capitalize,i as chunkArray,u as isEmpty,e as isServer,o as parseDatoError,s as rInt,c as sleep,v as sortSwedish,a as truncateParagraph,d as truncateWords};
//# sourceMappingURL=index.modern.mjs.map
