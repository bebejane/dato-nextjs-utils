function n(t,e,i){if(!t.s){if(i instanceof r){if(!i.s)return void(i.o=n.bind(null,t,e));1&e&&(e=i.s),i=i.v}if(i&&i.then)return void i.then(n.bind(null,t,e),n.bind(null,t,2));t.s=e,t.v=i;const o=t.o;o&&o(t)}}var r=/*#__PURE__*/function(){function r(){}return r.prototype.then=function(t,e){var i=new r,o=this.s;if(o){var u=1&o?t:e;if(u){try{n(i,1,u(this.v))}catch(r){n(i,2,r)}return i}return this}return this.o=function(r){try{var o=r.v;1&r.s?n(i,1,t?t(o):o):e?n(i,1,e(o)):n(i,2,o)}catch(r){n(i,2,r)}},i},r}();function t(n){return n instanceof r&&1&n.s}var e="undefined"==typeof window,i=function(n,r){for(var t=[],e=0;e<n.length;e+=r)t.push(n.slice(e,e+r));return t},o=function(n){return n.errors.map(function(n){var r=n.attributes,t=r.details;return{code:r.code,field:null==t?void 0:t.field,message:null==t?void 0:t.message,detailsCode:null==t?void 0:t.code,errors:Array.isArray(null==t?void 0:t.errors)?null==t?void 0:t.errors.join(". "):void 0}}).map(function(n){var r=n.field,t=n.errors;return n.code+" "+(r?"("+r+")":"")+" "+(n.message||"")+" "+(n.detailsCode||"")+" "+(t?"("+t+")":"")}).join("\n")},u=function(n){return 0===Object.keys(n).filter(function(r){return void 0!==n[r]}).length},f=function(n,r){return void 0===r&&(r=!1),(r?n.toLowerCase():n).replace(/(?:^|\s|["'([{])+\S/g,function(n){return n.toUpperCase()})},c=function(n){return new Promise(function(r,t){return setTimeout(r,n)})},s=function(n,r){return n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n},a=function(n,r,t,e){var i,o;if(void 0===r&&(r=1),void 0===t&&(t=!0),void 0===e&&(e=200),!n||n.length<e)return n;var u=null==(i=n.split("."))?void 0:i.slice(0,r+1).join(".").lastIndexOf("."),f=null==(o=n.split("? "))?void 0:o.slice(0,r+1).join("? ").lastIndexOf("? "),c=-1!==f&&f<u||-1===u&&f>-1;return-1===u&&-1===f&&(u=e-1,t=!0),n.substring(0,c?f:u)+(t?"...":c?"?":".")},d=function(n,r){if(n.length<=r)return n;var t=n.substring(0,r),e=t.lastIndexOf(" ");return-1!==e&&(t=t.substr(0,e)),t+"..."},v=function(n,r){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Å","Ä","Ö"];return n.sort(function(n,e){var i=t.findIndex(function(t){var e;return t===(null==(e=r?n[r]:n)?void 0:e.charAt(0).toUpperCase())}),o=t.findIndex(function(n){var t;return n===(null==(t=r?e[r]:e)?void 0:t.charAt(0).toUpperCase())});return i?i>o?1:i===o?0:-1:-1})},l=function(e){try{var i,o=function(n){if(i)return n;throw new Error("Element "+e+" not found")},u=0,f=function(e,i,o){for(var u;;){var f=e();if(t(f)&&(f=f.v),!f)return c;if(f.then){u=0;break}var c=o();if(c&&c.then){if(!t(c)){u=1;break}c=c.s}if(i){var s=i();if(s&&s.then&&!t(s)){u=2;break}}}var a=new r,d=n.bind(null,a,2);return(0===u?f.then(l):1===u?c.then(v):s.then(h)).then(void 0,d),a;function v(r){c=r;do{if(i&&(s=i())&&s.then&&!t(s))return void s.then(h).then(void 0,d);if(!(f=e())||t(f)&&!f.v)return void n(a,1,c);if(f.then)return void f.then(l).then(void 0,d);t(c=o())&&(c=c.v)}while(!c||!c.then);c.then(v).then(void 0,d)}function l(r){r?(c=o())&&c.then?c.then(v).then(void 0,d):v(c):n(a,1,c)}function h(){(f=e())?f.then?f.then(l).then(void 0,d):l(f):n(a,1,c)}}(function(){return!i&&u<100},function(){return u++},function(){var n=document.querySelector(function(n){return(n.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(r){n=n.replace(r,'[id="'+r.replace("#","")+'"]')}),n}(e));return n?(i=1,n):Promise.resolve(c(30)).then(function(){})});return Promise.resolve(f&&f.then?f.then(o):o(f))}catch(n){return Promise.reject(n)}};export{l as awaitElement,f as capitalize,i as chunkArray,u as isEmpty,e as isServer,o as parseDatoError,s as rInt,c as sleep,v as sortSwedish,a as truncateParagraph,d as truncateWords};
//# sourceMappingURL=index.modern.mjs.map
