{"version":3,"file":"index.modern.mjs","sources":["../src/utils/cors.ts","../src/utils/index.ts"],"sourcesContent":["/**\n * Multi purpose CORS lib.\n * Note: Based on the `cors` package in npm but using only\n * web APIs. Feel free to use it in your own projects.\n */\n\ntype StaticOrigin = boolean | string | RegExp | (boolean | string | RegExp)[]\n\ntype OriginFn = (\n  origin: string | undefined,\n  req: Request\n) => StaticOrigin | Promise<StaticOrigin>\n\ninterface CorsOptions {\n  origin?: StaticOrigin | OriginFn\n  methods?: string | string[]\n  allowedHeaders?: string | string[]\n  exposedHeaders?: string | string[]\n  credentials?: boolean\n  maxAge?: number\n  preflightContinue?: boolean\n  optionsSuccessStatus?: number\n}\n\nconst defaultOptions: CorsOptions = {\n  origin: '*',\n  methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n  preflightContinue: false,\n  optionsSuccessStatus: 204,\n}\n\nfunction isOriginAllowed(origin: string, allowed: StaticOrigin): boolean {\n  return Array.isArray(allowed)\n    ? allowed.some((o) => isOriginAllowed(origin, o))\n    : typeof allowed === 'string'\n      ? origin === allowed\n      : allowed instanceof RegExp\n        ? allowed.test(origin)\n        : !!allowed\n}\n\nfunction getOriginHeaders(reqOrigin: string | undefined, origin: StaticOrigin) {\n  const headers = new Headers()\n\n  if (origin === '*') {\n    // Allow any origin\n    headers.set('Access-Control-Allow-Origin', '*')\n  } else if (typeof origin === 'string') {\n    // Fixed origin\n    headers.set('Access-Control-Allow-Origin', origin)\n    headers.append('Vary', 'Origin')\n  } else {\n    const allowed = isOriginAllowed(reqOrigin ?? '', origin)\n\n    if (allowed && reqOrigin) {\n      headers.set('Access-Control-Allow-Origin', reqOrigin)\n    }\n    headers.append('Vary', 'Origin')\n  }\n\n  return headers\n}\n\n// originHeadersFromReq\n\nasync function originHeadersFromReq(\n  req: Request,\n  origin: StaticOrigin | OriginFn\n) {\n  const reqOrigin = req.headers.get('Origin') || undefined\n  const value =\n    typeof origin === 'function' ? await origin(reqOrigin, req) : origin\n\n  if (!value) return\n  return getOriginHeaders(reqOrigin, value)\n}\n\nfunction getAllowedHeaders(req: Request, allowed?: string | string[]) {\n  const headers = new Headers()\n\n  if (!allowed) {\n    allowed = req.headers.get('Access-Control-Request-Headers')!\n    headers.append('Vary', 'Access-Control-Request-Headers')\n  } else if (Array.isArray(allowed)) {\n    // If the allowed headers is an array, turn it into a string\n    allowed = allowed.join(',')\n  }\n  if (allowed) {\n    headers.set('Access-Control-Allow-Headers', allowed)\n  }\n\n  return headers\n}\n\nexport default async function cors(\n  req: Request,\n  res: Response,\n  options?: CorsOptions\n) {\n  const opts = { ...defaultOptions, ...options }\n  const { headers } = res\n  const originHeaders = await originHeadersFromReq(req, opts.origin ?? false)\n  const mergeHeaders = (v: string, k: string) => {\n    if (k === 'Vary') headers.append(k, v)\n    else headers.set(k, v)\n  }\n\n  // If there's no origin we won't touch the response\n  if (!originHeaders) return res\n\n  originHeaders.forEach(mergeHeaders)\n\n  if (opts.credentials) {\n    headers.set('Access-Control-Allow-Credentials', 'true')\n  }\n\n  const exposed = Array.isArray(opts.exposedHeaders)\n    ? opts.exposedHeaders.join(',')\n    : opts.exposedHeaders\n\n  if (exposed) {\n    headers.set('Access-Control-Expose-Headers', exposed)\n  }\n\n  // Handle the preflight request\n  if (req.method === 'OPTIONS') {\n    if (opts.methods) {\n      const methods = Array.isArray(opts.methods)\n        ? opts.methods.join(',')\n        : opts.methods\n\n      headers.set('Access-Control-Allow-Methods', methods)\n    }\n\n    getAllowedHeaders(req, opts.allowedHeaders).forEach(mergeHeaders)\n\n    if (typeof opts.maxAge === 'number') {\n      headers.set('Access-Control-Max-Age', String(opts.maxAge))\n    }\n\n    if (opts.preflightContinue) return res\n\n    headers.set('Content-Length', '0')\n    return new Response(null, { status: opts.optionsSuccessStatus, headers })\n  }\n\n  // If we got here, it's a normal request\n  return res\n}\n\nexport function initCors(options?: CorsOptions) {\n  return (req: Request, res: Response) => cors(req, res, options)\n}","import { ReactNode } from \"react\";\nimport { ApiError, buildClient } from \"@datocms/cma-client\";\nexport { default as cors } from './cors.js'\n\nexport const isServer = typeof window === 'undefined';\n\nexport const chunkArray = (array: any[] | ReactNode[], chunkSize: number) => {\n  const newArr = []\n  for (let i = 0; i < array.length; i += chunkSize)\n    newArr.push(array.slice(i, i + chunkSize));\n  return newArr\n}\n\nexport const parseDatoError = (err: any): string => {\n  const errors = (err as ApiError).errors.map(({ attributes: { code, details } }) => ({ code, field: details?.field, message: details?.message, detailsCode: details?.code, errors: Array.isArray(details?.errors) ? details?.errors.join('. ') : undefined }))\n  return errors.map(({ code, field, message, detailsCode, errors }) => `${code} ${field ? `(${field})` : ''} ${message || ''} ${detailsCode || ''} ${errors ? `(${errors})` : ''}`).join('\\n')\n}\n\nexport const parseDatoCMSApiError = (e: any): string => {\n\n  if (e instanceof ApiError === false)\n    return typeof e === 'string' ? e : e.message || e.toString()\n\n  const err = new ApiError(e)\n  return err.errors.map(e => {\n    let code = `${e.attributes.code}`\n    let errors = []\n\n    if (Array.isArray(e.attributes.details?.errors)) {\n      e.attributes.details.errors.forEach(e => {\n        errors.push(Object.keys(e).map(k => `${k}: ${e[k]}`).join(', '))\n      })\n    }\n    return `${code}${errors.length ? `: ${errors.join('. ')}` : ''}`\n  }).join('\\n')\n}\n\nexport const isEmpty = (obj: any) => Object.keys(obj).filter(k => obj[k] !== undefined).length === 0\n\nexport const capitalize = (str: string, lower: boolean = false) => {\n  return (lower ? str.toLowerCase() : str).replace(/(?:^|\\s|[\"'([{])+\\S/g, match => match.toUpperCase());\n}\n\nexport const sleep = (ms: number) => new Promise((resolve, refject) => setTimeout(resolve, ms))\n\nexport const rInt = (min: number, max: number): number => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const truncateParagraph = (s: string, sentances: number = 1, ellipsis: boolean = true, minLength = 200): string => {\n  if (!s || s.length < minLength)\n    return s;\n\n  let dotIndex = s.split('.')?.slice(0, sentances + 1).join('.').lastIndexOf('.')\n  let qIndex = s.split('? ')?.slice(0, sentances + 1).join('? ').lastIndexOf('? ')\n  const isQuestion = qIndex !== -1 && qIndex < dotIndex || (dotIndex === -1 && qIndex > -1)\n\n  if (dotIndex === -1 && qIndex === -1) {\n    dotIndex = minLength - 1\n    ellipsis = true\n  }\n\n  let str = s.substring(0, isQuestion ? qIndex : dotIndex) //`${s.substring(0, minLength - 1)}${s.substring(minLength - 1).split('.').slice(0, sentances).join('. ')}`\n  return `${str}${ellipsis ? '...' : isQuestion ? '?' : '.'}`;\n}\n\nexport const truncateWords = (text: string, maxLength: number): string => {\n  if (text.length <= maxLength)\n    return text;\n\n  var truncatedText = text.substring(0, maxLength);\n  var lastSpaceIndex = truncatedText.lastIndexOf(' ');\n  if (lastSpaceIndex !== -1) {\n    truncatedText = truncatedText.substr(0, lastSpaceIndex);\n  }\n  return truncatedText + '...';\n}\n\nexport const sortSwedish = <T>(arr: T[], key?: string): T[] => {\n  const alfabet = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"Å\", \"Ä\", \"Ö\"];\n\n  return arr.sort((a, b) => {\n    const ai = alfabet.findIndex((l) => l === (key ? a[key] : a)?.charAt(0).toUpperCase())\n    const bi = alfabet.findIndex((l) => l === (key ? b[key] : b)?.charAt(0).toUpperCase())\n    return !ai ? -1 : ai > bi ? 1 : ai === bi ? 0 : -1\n  })\n}\n\nexport const awaitElement = async <T>(selector: string) => {\n\n  const cleanSelector = function (selector) {\n    (selector.match(/(#[0-9][^\\s:,]*)/g) || []).forEach(function (n) {\n      selector = selector.replace(n, '[id=\"' + n.replace(\"#\", \"\") + '\"]');\n    });\n    return selector;\n  }\n\n  for (let i = 0; i < 100; i++) {\n    const el = document.querySelector(cleanSelector(selector)) as T\n    if (el) return el\n    await sleep(30)\n  }\n\n  throw new Error(`Element ${selector} not found`)\n}"],"names":["cors","req","res","options","methods","opts","defaultOptions","headers","Promise","resolve","originHeadersFromReq","origin","_opts$origin","originHeaders","v","k","append","set","forEach","mergeHeaders","credentials","exposed","Array","isArray","exposedHeaders","join","method","allowed","Headers","get","getAllowedHeaders","allowedHeaders","maxAge","String","preflightContinue","Response","status","optionsSuccessStatus","value","reqOrigin","isOriginAllowed","getOriginHeaders","undefined","then","_temp2","some","o","RegExp","test","_settle","state","pact","s","_Pact","bind","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","isServer","window","chunkArray","array","chunkSize","newArr","i","length","push","slice","parseDatoError","err","errors","map","_ref","_ref$attributes","attributes","details","code","field","message","detailsCode","_ref2","parseDatoCMSApiError","ApiError","toString","_e$attributes$details","Object","keys","isEmpty","obj","filter","str","lower","toLowerCase","replace","match","toUpperCase","sleep","ms","refject","setTimeout","rInt","min","max","Math","ceil","floor","random","truncateParagraph","sentances","ellipsis","minLength","dotIndex","_s$split","split","lastIndexOf","qIndex","_s$split2","isQuestion","substring","truncateWords","text","maxLength","truncatedText","lastSpaceIndex","substr","sortSwedish","arr","key","alfabet","sort","a","b","ai","findIndex","l","_ref3","charAt","bi","_ref4","awaitElement","selector","_exit2","_temp3","_result","_i","_temp4","_for","el","document","querySelector","n","cleanSelector","reject"],"mappings":"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"}