!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n||self).utils={})}(this,function(n){function e(n,r,i){if(!n.s){if(i instanceof t){if(!i.s)return void(i.o=e.bind(null,n,r));1&r&&(r=i.s),i=i.v}if(i&&i.then)return void i.then(e.bind(null,n,r),e.bind(null,n,2));n.s=r,n.v=i;const o=n.o;o&&o(n)}}var t=/*#__PURE__*/function(){function n(){}return n.prototype.then=function(t,r){var i=new n,o=this.s;if(o){var u=1&o?t:r;if(u){try{e(i,1,u(this.v))}catch(n){e(i,2,n)}return i}return this}return this.o=function(n){try{var o=n.v;1&n.s?e(i,1,t?t(o):o):r?e(i,1,r(o)):e(i,2,o)}catch(n){e(i,2,n)}},i},n}();function r(n){return n instanceof t&&1&n.s}var i="undefined"==typeof window,o=function(n){return new Promise(function(e,t){return setTimeout(e,n)})};n.awaitElement=function(n){try{var i,u=function(e){if(i)return e;throw new Error("Element "+n+" not found")},f=0,s=function(n,i,o){for(var u;;){var f=n();if(r(f)&&(f=f.v),!f)return s;if(f.then){u=0;break}var s=o();if(s&&s.then){if(!r(s)){u=1;break}s=s.s}if(i){var a=i();if(a&&a.then&&!r(a)){u=2;break}}}var c=new t,d=e.bind(null,c,2);return(0===u?f.then(v):1===u?s.then(l):a.then(h)).then(void 0,d),c;function l(t){s=t;do{if(i&&(a=i())&&a.then&&!r(a))return void a.then(h).then(void 0,d);if(!(f=n())||r(f)&&!f.v)return void e(c,1,s);if(f.then)return void f.then(v).then(void 0,d);r(s=o())&&(s=s.v)}while(!s||!s.then);s.then(l).then(void 0,d)}function v(n){n?(s=o())&&s.then?s.then(l).then(void 0,d):l(s):e(c,1,s)}function h(){(f=n())?f.then?f.then(v).then(void 0,d):v(f):e(c,1,s)}}(function(){return!i&&f<100},function(){return f++},function(){var e=document.querySelector(function(n){return(n.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(e){n=n.replace(e,'[id="'+e.replace("#","")+'"]')}),n}(n));return e?(i=1,e):Promise.resolve(o(30)).then(function(){})});return Promise.resolve(s&&s.then?s.then(u):u(s))}catch(n){return Promise.reject(n)}},n.capitalize=function(n,e){return void 0===e&&(e=!1),(e?n.toLowerCase():n).replace(/(?:^|\s|["'([{])+\S/g,function(n){return n.toUpperCase()})},n.chunkArray=function(n,e){for(var t=[],r=0;r<n.length;r+=e)t.push(n.slice(r,r+e));return t},n.isEmpty=function(n){return 0===Object.keys(n).filter(function(e){return void 0!==n[e]}).length},n.isServer=i,n.parseDatoError=function(n){return n.errors.map(function(n){var e=n.attributes,t=e.details;return{code:e.code,field:null==t?void 0:t.field,message:null==t?void 0:t.message,detailsCode:null==t?void 0:t.code,errors:Array.isArray(null==t?void 0:t.errors)?null==t?void 0:t.errors.join(". "):void 0}}).map(function(n){var e=n.field,t=n.errors;return n.code+" "+(e?"("+e+")":"")+" "+(n.message||"")+" "+(n.detailsCode||"")+" "+(t?"("+t+")":"")}).join("\n")},n.rInt=function(n,e){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n},n.sleep=o,n.sortSwedish=function(n,e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Å","Ä","Ö"];return n.sort(function(n,r){var i=t.findIndex(function(t){var r;return t===(null==(r=e?n[e]:n)?void 0:r.charAt(0).toUpperCase())}),o=t.findIndex(function(n){var t;return n===(null==(t=e?r[e]:r)?void 0:t.charAt(0).toUpperCase())});return i?i>o?1:i===o?0:-1:-1})},n.truncateParagraph=function(n,e,t,r){var i,o;if(void 0===e&&(e=1),void 0===t&&(t=!0),void 0===r&&(r=200),!n||n.length<r)return n;var u=null==(i=n.split("."))?void 0:i.slice(0,e+1).join(".").lastIndexOf("."),f=null==(o=n.split("? "))?void 0:o.slice(0,e+1).join("? ").lastIndexOf("? "),s=-1!==f&&f<u||-1===u&&f>-1;return-1===u&&-1===f&&(u=r-1,t=!0),n.substring(0,s?f:u)+(t?"...":s?"?":".")},n.truncateWords=function(n,e){if(n.length<=e)return n;var t=n.substring(0,e),r=t.lastIndexOf(" ");return-1!==r&&(t=t.substr(0,r)),t+"..."}});
//# sourceMappingURL=index.umd.js.map
