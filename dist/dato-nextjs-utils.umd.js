!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@apollo/client/core/core.cjs"),require("@apollo/client/link/batch-http/batchHttpLink.js"),require("next/router.js"),require("react"),require("react-markdown"),require("remark-gfm"),require("next/link.js"),require("markdown-truncate"),require("remark-breaks"),require("next-seo")):"function"==typeof define&&define.amd?define(["exports","@apollo/client/core/core.cjs","@apollo/client/link/batch-http/batchHttpLink.js","next/router.js","react","react-markdown","remark-gfm","next/link.js","markdown-truncate","remark-breaks","next-seo"],e):e((t||self).datoNextjsUtils={},t.core_cjs,t.batchHttpLink_js,t.Router,t.react,t.reactMarkdown,t.remarkGfm,t.Link,t.markdownTruncate,t.remarkBreaks,t.nextSeo)}(this,function(t,e,r,n,o,i,u,a,s,c,l){function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=/*#__PURE__*/p(i),y=/*#__PURE__*/p(u),d=/*#__PURE__*/p(a),m=/*#__PURE__*/p(s),b=/*#__PURE__*/p(c),w={__proto__:null,isServer:"undefined"==typeof window};function _(){return _=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_.apply(this,arguments)}var v,g="undefined"==typeof window,E=process.env.GRAPHQL_API_ENDPOINT||process.env.NEXT_PUBLIC_GRAPHQL_API_ENDPOINT||"https://graphql.datocms.com",P=process.env.NEXT_PUBLIC_GRAPHQL_API_TOKEN,O={uri:E,fetch:process.env.LOG_GRAPHQL?function(t,e){try{var r=e?JSON.parse(e.body.toString()):void 0,n=""+(r?Array.isArray(r)?r.map(function(t){return t.operationName}):[r.operationName]:[]).join(", ");return Promise.resolve(fetch(t,e)).then(function(t){var e=(new Date).getTime();return _({},t,{text:function(){try{return Promise.resolve(t.text()).then(function(t){return console.log("[33m%s[0m","gql  ","- "+n,"- "+((new Date).getTime()-e)+"ms"),t})}catch(t){return Promise.reject(t)}}})})}catch(t){return Promise.reject(t)}}:void 0,batchMax:10,batchInterval:50,headers:{Authorization:"Bearer "+P}},T=new r.BatchHttpLink(O),S=new r.BatchHttpLink(_({},O,{headers:_({},O.headers,{"X-Include-Drafts":!0})})),j=new e.ApolloClient({link:T,cache:new e.InMemoryCache,ssrMode:g,defaultOptions:{query:{fetchPolicy:process.env.DEV_CACHE?"cache-first":"no-cache",errorPolicy:"all"}}}),x=function(t){return e.gql("query GetSEO {seo: "+t+" {id tags: _seoMetaTags {attributes content tag}}}")},k=function(t,e){try{var r=e||{},n=r.variables,o=r.preview,i=void 0!==o&&o;if(null===t)throw new Error("Invalid query! Query is empty");if(!P)throw new Error("No graphql api token exists in .env");return Promise.resolve(function(e,r){try{var o=function(){j.setLink(i?S:T);var e=(Array.isArray(t)?t:[t]).map(function(t,e){var r=Array.isArray(n)&&n.length>e-1?n[e]:n||{};return j.query({query:t,variables:r})});return Promise.resolve(Promise.all(e)).then(function(t){var e=[];if(t.filter(function(t){return t.errors}).forEach(function(t){t.errors.map(function(t){return t.message}).forEach(function(t){return e.push(t)})}),e.length)throw new Error(e.join(". "));var r={};return t.forEach(function(t){return r=_({},r,null==t?void 0:t.data)}),r})}()}catch(t){return r(t)}return o&&o.then?o.then(void 0,r):o}(0,function(t){throw t}))}catch(t){return Promise.reject(t)}},A=(v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},v(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),q={BATCH_DATA_VALIDATION_IN_PROGRESS:"The schema of this model changed, we're re-running validations over every record in background. Please retry with this operation in a few seconds!",INSUFFICIENT_PERMISSIONS:"Your role does not permit this action",MAINTENANCE_MODE:"The project is currently in maintenance mode!",DELETE_RESTRICTION:"Sorry, but you cannot delete this resource, as it's currently used/referenced elsewhere!",INVALID_CREDENTIALS:"Credentials are incorrect!",INVALID_EMAIL:"Email address is incorrect!",INVALID_FORMAT:"The format of the parameters passed is incorrect, take a look at the details of the error to know what's wrong!",ITEM_LOCKED:"The operation cannot be completed as some other user is currently editing this record!",LINKED_FROM_PUBLISHED_ITEMS:"Couldn't unpublish the record, as some published records are linked to it!",PLAN_UPGRADE_REQUIRED:"Cannot proceed, please upgrade plan!",PUBLISHED_CHILDREN:"Couldn't unpublish the record, some children records are still published!",REQUIRED_2FA_SETUP:"This project requires every user to turn on 2-factor authentication! Please go to your Dashboard and activate it! (https://dashboard.datocms.com/account/setup-2fa)",REQUIRED_BY_ASSOCIATION:"Cannot delete the record, as it's required by other records:",STALE_ITEM_VERSION:"Someone else made a change while you were editing this record, please refresh the page!",TITLE_ALREADY_PRESENT:"There can only be one Title field per model",UNPUBLISHED_LINK:"Couldn't publish the record, as it links some unpublished records!",UNPUBLISHED_PARENT:"Couldn't publish the record, as the parent record is not published!",UPLOAD_IS_CURRENTLY_IN_USE:"Couldn't delete this asset, as it's currently used by some records!",UPLOAD_NOT_PASSING_FIELD_VALIDATIONS:"Couldn't update this asset since some records are failing to pass the validations!"},I={build_triggers:"You've reached the maximum number of build triggers your plan allows",sandbox_environments:"You've reached the maximum number of environments your plan allows",item_types:"You've reached the maximum number of models your plan allows to create",items:"You've reached the maximum number of records your plan allows to create",locales:"You've reached the maximum number of locales your plan allows",mux_encoding_seconds:"You've reached the maximum video encoding limits of your plan",otp:"Two-factor authentication cannot be on the current plan",plugins:"You've reached the maximum number of plugins your plan allows",roles:"You've reached the maximum number of roles your plan allows to create",uploadable_bytes:"You've reached the file storage limits of your plan",users:"You've reached the maximum number of collaborators your plan allows to invite to the project",access_tokens:"You've reached the maximum number of API tokens your plan allows to create"},C=function(t){function e(e){var r=this.constructor,n=t.call(this,"API Error!")||this;return Object.setPrototypeOf(n,r.prototype),"captureStackTrace"in Error?Error.captureStackTrace(n,D):n.stack=(new Error).stack,n.request=e.request,n.preCallStack=e.preCallStack,n.message="".concat(e.request.method," ").concat(e.request.url,": Timeout error"),n.preCallStack&&(n.stack+="\nCaused By:\n".concat(n.preCallStack)),n}return A(e,t),e}(Error),D=function(t){function e(r){var n=this.constructor,o=t.call(this,"API Error!")||this;Object.setPrototypeOf(o,n.prototype),"captureStackTrace"in Error?Error.captureStackTrace(o,e):o.stack=(new Error).stack,o.request=r.request,o.response=r.response,o.preCallStack=r.preCallStack;var i="".concat(r.request.method," ").concat(r.request.url,": ").concat(o.response.status," ").concat(o.response.statusText);return o.errors.length>0&&(i+="\n\n".concat(JSON.stringify(o.errors,null,2))),o.message=i,o.preCallStack&&(o.stack+="\nCaused By:\n".concat(o.preCallStack)),o}return A(e,t),Object.defineProperty(e.prototype,"errors",{get:function(){return function(t){if("object"!=typeof t||null===t||!("data"in t))return!1;var e=t;if(!Array.isArray(e.data))return!1;if(0===e.data.length)return!1;var r=e.data[0];return"object"==typeof r&&null!==r&&"id"in r&&"type"in r&&"attributes"in r&&"api_error"===r.type}(this.response.body)?this.response.body.data:[]},enumerable:!1,configurable:!0}),e.prototype.findError=function(t,e){var r=Array.isArray(t)?t:[t];return this.errors.find(function(t){return r.includes(t.attributes.code)&&(!e||("function"==typeof e?e(t.attributes.details):Object.entries(e).every(function(e){return t.attributes.details[e[0]]===e[1]})))})},Object.defineProperty(e.prototype,"humanMessage",{get:function(){var t=this,e=this.findError("PLAN_UPGRADE_REQUIRED");if(e)return"".concat(I[e.attributes.details.limit],". Please head over to your account dashboard (https://dashboard.datocms.com/) to upgrade the plan or, if no publicly available plan suits your needs, contact our Sales team (https://www.datocms.com/contact) to get a custom quote!");var r=Object.keys(q).filter(function(e){return t.findError(e)}).map(function(t){return q[t]});return 0===r.length?null:r.join("\n")},enumerable:!1,configurable:!0}),e}(Error),L=function(){return L=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},L.apply(this,arguments)};function U(t){var e=t.id,r=t.type,n=t.attributes,o=t.relationships,i=t.meta;return L(L(L(L(L({},e?{id:e}:{}),r?{type:r}:{}),n||{}),o?Object.fromEntries(Object.entries(o).map(function(t){var e=t[1];return[t[0],null==e?void 0:e.data]})):{}),i?{meta:i}:{})}function R(t){if("object"!=typeof(e=t)||!e||!("data"in e))throw new Error("Invalid body!");var e;return Array.isArray(t.data)?t.data.map(U):U(t.data)}function F(t){return new Promise(function(e){setTimeout(e,t)})}var N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function G(t){var e={exports:{}};return t(e,e.exports),e.exports}var M=G(function(t,e){var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TaskCollisionStrategy=void 0,(r=e.TaskCollisionStrategy||(e.TaskCollisionStrategy={}))[r.DEFAULT=0]="DEFAULT",r[r.KEEP_THIS=1]="KEEP_THIS",r[r.KEEP_OTHER=2]="KEEP_OTHER",r[r.KEEP_BOTH=3]="KEEP_BOTH",r[r.RESOLVE_THIS=4]="RESOLVE_THIS",r[r.RESOLVE_OTHER=5]="RESOLVE_OTHER"}),H=/*#__PURE__*/Object.defineProperty({default:class{constructor(t,e){this._code=t,this._message=e}get code(){return this._code}get message(){return this._message}}},"__esModule",{value:!0}),Y=G(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mutexEquality=e.mutexBitwiseAnd=void 0,e.mutexBitwiseAnd=function(t,e){return 0!=(t&e)},e.mutexEquality=function(t,e){return t===e}}),V=/*#__PURE__*/Object.defineProperty({default:class{constructor(t,e){this._meta=void 0,this._task=t,this._scheduler=e}withDescriptor(t){return this._descriptor=t,this}withMutex(t){return this._mutex=t,this}withMeta(t){return this._meta=t,this}runBeforeExecuting(t){return this._onPreExecute=t,this}handleCollisions(t){return this._onTaskCollision=t,this}execute(t){return this._scheduler.enqueue({priority:t,mutex:this._mutex,descriptor:this._descriptor,meta:this._meta,execute:this._task,onPreExecute:this._onPreExecute,onTaskCollision:this._onTaskCollision})}}},"__esModule",{value:!0}),W=N&&N.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function u(t){try{s(n.next(t))}catch(t){i(t)}}function a(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(u,a)}s((n=n.apply(t,e||[])).next())})},z=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const Q=z(H),K=z(V);var $;function X(t,e){for(let r of t.listeners)r.reject(e)}!function(t){t[t.PENDING=0]="PENDING",t[t.EXECUTING=1]="EXECUTING",t[t.TERMINATED=2]="TERMINATED"}($||($={}));var J=/*#__PURE__*/Object.defineProperty({default:class{constructor(t,e={}){this._queue=[],this._isExecuting=!1,this._idleListeners=[],this._maxConcurrentTasks=t,this._samePriorityMutex=!!e.samePriorityMutex,this._mutexStrategy=e.mutexStrategy||Y.mutexEquality,this._errorLog=e.disableLogging?()=>{}:console.error}enqueue(t){return new Promise((e,r)=>{"function"==typeof t&&(t={priority:0,execute:t});const n=this._checkMutexes(t,e,r);n.task?this._addTask(n.task):n.canceled&&r(this.createCanceledError())})}prepare(t){return new K.default(t,this)}_addTask(t){this._queue.push(t),this._applyPriorities(),this._isExecuting||(this._isExecuting=!0,setTimeout(this._executeNextTasks.bind(this)))}get executingTasks(){return this._queue.reduce((t,e)=>e.state===$.EXECUTING?t+1:t,0)}createCanceledError(){return new Q.default(50,"Task has been canceled in favor of another task")}_findFirstPendingTask(){return this._queue.find(t=>t.state===$.PENDING)}_isIdle(){return 0===this._queue.length||!this._queue.find(t=>t.state!==$.TERMINATED)}_removeTaskAt(t){this._queue.splice(t,1)}_executeTask(t){return W(this,void 0,void 0,function*(){try{return t.task.onPreExecute&&t.task.onPreExecute(),yield t.task.execute()}catch(t){throw t}finally{t.state=$.TERMINATED;let e=this._queue.indexOf(t);this._removeTaskAt(e),this._executeNextTasks()}})}_executeNextTasks(){let t=this.executingTasks;if(t>=this._maxConcurrentTasks)return;let e=this._maxConcurrentTasks-t;for(let t=0;t<e;t++){const t=this._findFirstPendingTask();if(!t)return void(this._isIdle()&&this._switchToIdle());t.state=$.EXECUTING,this._executeTask(t).then(e=>{for(const{resolve:r}of t.listeners)try{r(e)}catch(t){this._errorLog("An error occurred while resolving listener",t)}}).catch(e=>{for(const{reject:r}of t.listeners)try{r(e)}catch(t){this._errorLog("An error occurred while rejecting listener",t)}})}}_switchToIdle(){this._isExecuting=!1;const t=this._idleListeners;this._idleListeners=[];for(const{resolve:e}of t)try{e()}catch(t){}}waitForIdle(){return this._isExecuting?new Promise((t,e)=>{this._idleListeners.push({resolve:t,reject:e})}):Promise.resolve()}_applyPriorities(){this._queue.sort((t,e)=>e.task.priority-t.task.priority)}_checkMutexes(t,e,r){for(let n=0;n<this._queue.length;n++){let o,i,u=this._queue[n];if(u.state!==$.TERMINATED&&(!this._samePriorityMutex||u.task.priority==t.priority)&&u.task.mutex&&t.mutex&&this._mutexStrategy(u.task.mutex,t.mutex)){if(u.task.onTaskCollision){if(o=u.task.onTaskCollision(t),o===M.TaskCollisionStrategy.KEEP_OTHER&&u.state!==$.EXECUTING){this._removeTaskAt(n--),X(u,this.createCanceledError());continue}if(o===M.TaskCollisionStrategy.KEEP_THIS)return{canceled:!0};if(o===M.TaskCollisionStrategy.RESOLVE_OTHER)return this._removeTaskAt(n--),{canceled:!1,task:{task:t,state:$.PENDING,listeners:[{resolve:e,reject:r},...u.listeners]}};if(o===M.TaskCollisionStrategy.RESOLVE_THIS)return u.listeners=[...u.listeners,{resolve:e,reject:r}],{canceled:!1}}if(t.onTaskCollision){if(i=t.onTaskCollision(u.task),i===M.TaskCollisionStrategy.KEEP_OTHER)return{canceled:!0};if(i===M.TaskCollisionStrategy.KEEP_THIS){this._removeTaskAt(n--),X(u,this.createCanceledError());continue}if(i===M.TaskCollisionStrategy.RESOLVE_OTHER)return u.listeners=[...u.listeners,{resolve:e,reject:r}],{canceled:!1};if(i===M.TaskCollisionStrategy.RESOLVE_THIS)return this._removeTaskAt(n--),{canceled:!1,task:{task:t,state:$.PENDING,listeners:[{resolve:e,reject:r},...u.listeners]}}}if(o!==M.TaskCollisionStrategy.KEEP_BOTH||i!==M.TaskCollisionStrategy.KEEP_BOTH)return{canceled:!0}}}return{canceled:!1,task:{task:t,state:$.PENDING,listeners:[{resolve:e,reject:r}]}}}}},"__esModule",{value:!0}),Z=G(function(t,e){var r=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.mutexEquality=e.mutexBitwiseAnd=e.SchedulerError=e.TaskCollisionStrategy=e.Scheduler=void 0;const n=r(J);e.Scheduler=n.default,Object.defineProperty(e,"TaskCollisionStrategy",{enumerable:!0,get:function(){return M.TaskCollisionStrategy}});const o=r(H);e.SchedulerError=o.default,Object.defineProperty(e,"mutexBitwiseAnd",{enumerable:!0,get:function(){return Y.mutexBitwiseAnd}}),Object.defineProperty(e,"mutexEquality",{enumerable:!0,get:function(){return Y.mutexEquality}})}),tt=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},et=function(t){return this instanceof et?(this.v=t,this):new et(t)},rt=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof et?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}};function nt(t,e,r){return rt(this,arguments,function(){var n,o,i,u,a,s,c,l,p,f,y,h,d;return tt(this,function(m){switch(m.label){case 0:if((n=(null==r?void 0:r.perPage)||t.defaultLimit)>t.maxLimit)throw new Error("perPage option cannot exceed maximum value of ".concat(t.maxLimit));if((o=(null==r?void 0:r.concurrency)||1)>10)throw new Error("concurrency option cannot exceed maximum value of 10");return[4,et(e({limit:n,offset:0}))];case 1:i=m.sent(),u=0,a=i.data,m.label=2;case 2:return u<a.length?[4,et(a[u])]:[3,6];case 3:return[4,m.sent()];case 4:m.sent(),m.label=5;case 5:return u++,[3,2];case 6:for(s=i.meta.total_count,c=new Z.Scheduler(o),l=[],p=function(t){l.push(c.enqueue(function(){return e({limit:n,offset:t})}))},f=n;f<s;f+=n)p(f);m.label=7;case 7:return l.length>0?[4,et(l.shift())]:[3,14];case 8:y=m.sent(),h=0,d=y.data,m.label=9;case 9:return h<d.length?[4,et(d[h])]:[3,13];case 10:return[4,m.sent()];case 11:m.sent(),m.label=12;case 12:return h++,[3,9];case 13:return[3,7];case 14:return[2]}})})}var ot,it="undefined"!=typeof Symbol&&Symbol,ut="Function.prototype.bind called on incompatible ",at=Array.prototype.slice,st=Object.prototype.toString,ct="[object Function]",lt=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||st.call(e)!==ct)throw new TypeError(ut+e);for(var r,n=at.call(arguments,1),o=function(){if(this instanceof r){var o=e.apply(this,n.concat(at.call(arguments)));return Object(o)===o?o:this}return e.apply(t,n.concat(at.call(arguments)))},i=Math.max(0,e.length-n.length),u=[],a=0;a<i;a++)u.push("$"+a);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var s=function(){};s.prototype=e.prototype,r.prototype=new s,s.prototype=null}return r},pt=lt.call(Function.call,Object.prototype.hasOwnProperty),ft=SyntaxError,yt=Function,ht=TypeError,dt=function(t){try{return yt('"use strict"; return ('+t+").constructor;")()}catch(t){}},mt=Object.getOwnPropertyDescriptor;if(mt)try{mt({},"")}catch(t){mt=null}var bt=function(){throw new ht},wt=mt?function(){try{return bt}catch(t){try{return mt(arguments,"callee").get}catch(t){return bt}}}():bt,_t="function"==typeof it&&"function"==typeof Symbol&&"symbol"==typeof it("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}(),vt=Object.getPrototypeOf||function(t){return t.__proto__},gt={},Et="undefined"==typeof Uint8Array?ot:vt(Uint8Array),Pt={"%AggregateError%":"undefined"==typeof AggregateError?ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?ot:ArrayBuffer,"%ArrayIteratorPrototype%":_t?vt([][Symbol.iterator]()):ot,"%AsyncFromSyncIteratorPrototype%":ot,"%AsyncFunction%":gt,"%AsyncGenerator%":gt,"%AsyncGeneratorFunction%":gt,"%AsyncIteratorPrototype%":gt,"%Atomics%":"undefined"==typeof Atomics?ot:Atomics,"%BigInt%":"undefined"==typeof BigInt?ot:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?ot:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?ot:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?ot:FinalizationRegistry,"%Function%":yt,"%GeneratorFunction%":gt,"%Int8Array%":"undefined"==typeof Int8Array?ot:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?ot:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_t?vt(vt([][Symbol.iterator]())):ot,"%JSON%":"object"==typeof JSON?JSON:ot,"%Map%":"undefined"==typeof Map?ot:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_t?vt((new Map)[Symbol.iterator]()):ot,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?ot:Promise,"%Proxy%":"undefined"==typeof Proxy?ot:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?ot:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?ot:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_t?vt((new Set)[Symbol.iterator]()):ot,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_t?vt(""[Symbol.iterator]()):ot,"%Symbol%":_t?Symbol:ot,"%SyntaxError%":ft,"%ThrowTypeError%":wt,"%TypedArray%":Et,"%TypeError%":ht,"%Uint8Array%":"undefined"==typeof Uint8Array?ot:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?ot:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?ot:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?ot:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?ot:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?ot:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?ot:WeakSet},Ot=function t(e){var r;if("%AsyncFunction%"===e)r=dt("async function () {}");else if("%GeneratorFunction%"===e)r=dt("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=dt("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=vt(o.prototype))}return Pt[e]=r,r},Tt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},St=lt.call(Function.call,Array.prototype.concat),jt=lt.call(Function.apply,Array.prototype.splice),xt=lt.call(Function.call,String.prototype.replace),kt=lt.call(Function.call,String.prototype.slice),At=lt.call(Function.call,RegExp.prototype.exec),qt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,It=/\\(\\)?/g,Ct=function(t){var e=kt(t,0,1),r=kt(t,-1);if("%"===e&&"%"!==r)throw new ft("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new ft("invalid intrinsic syntax, expected opening `%`");var n=[];return xt(t,qt,function(t,e,r,o){n[n.length]=r?xt(o,It,"$1"):e||t}),n},Dt=function(t,e){var r,n=t;if(pt(Tt,n)&&(n="%"+(r=Tt[n])[0]+"%"),pt(Pt,n)){var o=Pt[n];if(o===gt&&(o=Ot(n)),void 0===o&&!e)throw new ht("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new ft("intrinsic "+t+" does not exist!")},Lt=function(t,e){if("string"!=typeof t||0===t.length)throw new ht("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new ht('"allowMissing" argument must be a boolean');if(null===At(/^%?[^%]*%?$/,t))throw new ft("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ct(t),n=r.length>0?r[0]:"",o=Dt("%"+n+"%",e),i=o.name,u=o.value,a=!1,s=o.alias;s&&(n=s[0],jt(r,St([0,1],s)));for(var c=1,l=!0;c<r.length;c+=1){var p=r[c],f=kt(p,0,1),y=kt(p,-1);if(('"'===f||"'"===f||"`"===f||'"'===y||"'"===y||"`"===y)&&f!==y)throw new ft("property names with quotes must have matching quotes");if("constructor"!==p&&l||(a=!0),pt(Pt,i="%"+(n+="."+p)+"%"))u=Pt[i];else if(null!=u){if(!(p in u)){if(!e)throw new ht("base intrinsic for "+t+" exists, but the property is not available.");return}if(mt&&c+1>=r.length){var h=mt(u,p);u=(l=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:u[p]}else l=pt(u,p),u=u[p];l&&!a&&(Pt[i]=u)}}return u},Ut=G(function(t){var e=Lt("%Function.prototype.apply%"),r=Lt("%Function.prototype.call%"),n=Lt("%Reflect.apply%",!0)||lt.call(r,e),o=Lt("%Object.getOwnPropertyDescriptor%",!0),i=Lt("%Object.defineProperty%",!0),u=Lt("%Math.max%");if(i)try{i({},"a",{value:1})}catch(t){i=null}t.exports=function(t){var e=n(lt,r,arguments);if(o&&i){var a=o(e,"length");a.configurable&&i(e,"length",{value:1+u(0,t.length-(arguments.length-1))})}return e};var a=function(){return n(lt,e,arguments)};i?i(t.exports,"apply",{value:a}):t.exports.apply=a}),Rt=Ut(Lt("String.prototype.indexOf")),Ft=function(t,e){var r=Lt(t,!!e);return"function"==typeof r&&Rt(t,".prototype.")>-1?Ut(r):r},Nt={__proto__:null,default:{}},Bt="function"==typeof Map&&Map.prototype,Gt=Object.getOwnPropertyDescriptor&&Bt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Mt=Bt&&Gt&&"function"==typeof Gt.get?Gt.get:null,Ht=Bt&&Map.prototype.forEach,Yt="function"==typeof Set&&Set.prototype,Vt=Object.getOwnPropertyDescriptor&&Yt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Wt=Yt&&Vt&&"function"==typeof Vt.get?Vt.get:null,zt=Yt&&Set.prototype.forEach,Qt="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Kt="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$t="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Xt=Boolean.prototype.valueOf,Jt=Object.prototype.toString,Zt=Function.prototype.toString,te=String.prototype.match,ee=String.prototype.slice,re=String.prototype.replace,ne=String.prototype.toUpperCase,oe=String.prototype.toLowerCase,ie=RegExp.prototype.test,ue=Array.prototype.concat,ae=Array.prototype.join,se=Array.prototype.slice,ce=Math.floor,le="function"==typeof BigInt?BigInt.prototype.valueOf:null,pe=Object.getOwnPropertySymbols,fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ye="function"==typeof Symbol&&"object"==typeof Symbol.iterator,he="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,de=Object.prototype.propertyIsEnumerable,me=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function be(t,e){if(Infinity===t||-Infinity===t||t!=t||t&&t>-1e3&&t<1e3||ie.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-ce(-t):ce(t);if(n!==t){var o=String(n),i=ee.call(e,o.length+1);return re.call(o,r,"$&_")+"."+re.call(re.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return re.call(e,r,"$&_")}var we=Nt.custom,_e=Oe(we)?we:null;function ve(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function ge(t){return re.call(String(t),/"/g,"&quot;")}function Ee(t){return!("[object Array]"!==je(t)||he&&"object"==typeof t&&he in t)}function Pe(t){return!("[object RegExp]"!==je(t)||he&&"object"==typeof t&&he in t)}function Oe(t){if(ye)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!fe)return!1;try{return fe.call(t),!0}catch(t){}return!1}var Te=Object.prototype.hasOwnProperty||function(t){return t in this};function Se(t,e){return Te.call(t,e)}function je(t){return Jt.call(t)}function xe(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ke(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ke(ee.call(t,0,e.maxStringLength),e)+n}return ve(re.call(re.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ae),"single",e)}function Ae(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+ne.call(e.toString(16))}function qe(t){return"Object("+t+")"}function Ie(t){return t+" { ? }"}function Ce(t,e,r,n){return t+" ("+e+") {"+(n?De(r,n):ae.call(r,", "))+"}"}function De(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+ae.call(t,","+r)+"\n"+e.prev}function Le(t,e){var r=Ee(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=Se(t,o)?e(t[o],t):""}var i,u="function"==typeof pe?pe(t):[];if(ye){i={};for(var a=0;a<u.length;a++)i["$"+u[a]]=u[a]}for(var s in t)Se(t,s)&&(r&&String(Number(s))===s&&s<t.length||ye&&i["$"+s]instanceof Symbol||(ie.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if("function"==typeof pe)for(var c=0;c<u.length;c++)de.call(t,u[c])&&n.push("["+e(u[c])+"]: "+e(t[u[c]],t));return n}var Ue,Re=function t(e,r,n,o){var i=r||{};if(Se(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Se(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&Infinity!==i.maxStringLength:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!Se(i,"customInspect")||i.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Se(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Se(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return ke(e,i);if("number"==typeof e){if(0===e)return Infinity/e>0?"0":"-0";var s=String(e);return a?be(e,s):s}if("bigint"==typeof e){var c=String(e)+"n";return a?be(e,c):c}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return Ee(e)?"[Array]":"[Object]";var p,f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=ae.call(Array(t.indent+1)," ")}return{base:r,prev:ae.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if(xe(o,e)>=0)return"[Circular]";function y(e,r,u){if(r&&(o=se.call(o)).push(r),u){var a={depth:i.depth};return Se(i,"quoteStyle")&&(a.quoteStyle=i.quoteStyle),t(e,a,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!Pe(e)){var h=function(t){if(t.name)return t.name;var e=te.call(Zt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),d=Le(e,y);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(d.length>0?" { "+ae.call(d,", ")+" }":"")}if(Oe(e)){var m=ye?re.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fe.call(e);return"object"!=typeof e||ye?m:qe(m)}if((p=e)&&"object"==typeof p&&("undefined"!=typeof HTMLElement&&p instanceof HTMLElement||"string"==typeof p.nodeName&&"function"==typeof p.getAttribute)){for(var b="<"+oe.call(String(e.nodeName)),w=e.attributes||[],_=0;_<w.length;_++)b+=" "+w[_].name+"="+ve(ge(w[_].value),"double",i);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+"</"+oe.call(String(e.nodeName))+">"}if(Ee(e)){if(0===e.length)return"[]";var v=Le(e,y);return f&&!function(t){for(var e=0;e<t.length;e++)if(xe(t[e],"\n")>=0)return!1;return!0}(v)?"["+De(v,f)+"]":"[ "+ae.call(v,", ")+" ]"}if(function(t){return!("[object Error]"!==je(t)||he&&"object"==typeof t&&he in t)}(e)){var g=Le(e,y);return"cause"in Error.prototype||!("cause"in e)||de.call(e,"cause")?0===g.length?"["+String(e)+"]":"{ ["+String(e)+"] "+ae.call(g,", ")+" }":"{ ["+String(e)+"] "+ae.call(ue.call("[cause]: "+y(e.cause),g),", ")+" }"}if("object"==typeof e&&u){if(_e&&"function"==typeof e[_e]&&Nt)return Nt(e,{depth:l-n});if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!Mt||!t||"object"!=typeof t)return!1;try{Mt.call(t);try{Wt.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var E=[];return Ht.call(e,function(t,r){E.push(y(r,e,!0)+" => "+y(t,e))}),Ce("Map",Mt.call(e),E,f)}if(function(t){if(!Wt||!t||"object"!=typeof t)return!1;try{Wt.call(t);try{Mt.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var P=[];return zt.call(e,function(t){P.push(y(t,e))}),Ce("Set",Wt.call(e),P,f)}if(function(t){if(!Qt||!t||"object"!=typeof t)return!1;try{Qt.call(t,Qt);try{Kt.call(t,Kt)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Ie("WeakMap");if(function(t){if(!Kt||!t||"object"!=typeof t)return!1;try{Kt.call(t,Kt);try{Qt.call(t,Qt)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Ie("WeakSet");if(function(t){if(!$t||!t||"object"!=typeof t)return!1;try{return $t.call(t),!0}catch(t){}return!1}(e))return Ie("WeakRef");if(function(t){return!("[object Number]"!==je(t)||he&&"object"==typeof t&&he in t)}(e))return qe(y(Number(e)));if(function(t){if(!t||"object"!=typeof t||!le)return!1;try{return le.call(t),!0}catch(t){}return!1}(e))return qe(y(le.call(e)));if(function(t){return!("[object Boolean]"!==je(t)||he&&"object"==typeof t&&he in t)}(e))return qe(Xt.call(e));if(function(t){return!("[object String]"!==je(t)||he&&"object"==typeof t&&he in t)}(e))return qe(y(String(e)));if(!function(t){return!("[object Date]"!==je(t)||he&&"object"==typeof t&&he in t)}(e)&&!Pe(e)){var O=Le(e,y),T=me?me(e)===Object.prototype:e instanceof Object||e.constructor===Object,S=e instanceof Object?"":"null prototype",j=!T&&he&&Object(e)===e&&he in e?ee.call(je(e),8,-1):S?"Object":"",x=(T||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(j||S?"["+ae.call(ue.call([],j||[],S||[]),": ")+"] ":"");return 0===O.length?x+"{}":f?x+"{"+De(O,f)+"}":x+"{ "+ae.call(O,", ")+" }"}return String(e)},Fe=Lt("%TypeError%"),Ne=Lt("%WeakMap%",!0),Be=Lt("%Map%",!0),Ge=Ft("WeakMap.prototype.get",!0),Me=Ft("WeakMap.prototype.set",!0),He=Ft("WeakMap.prototype.has",!0),Ye=Ft("Map.prototype.get",!0),Ve=Ft("Map.prototype.set",!0),We=Ft("Map.prototype.has",!0),ze=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},Qe=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new Fe("Side channel does not contain "+Re(t))},get:function(n){if(Ne&&n&&("object"==typeof n||"function"==typeof n)){if(t)return Ge(t,n)}else if(Be){if(e)return Ye(e,n)}else if(r)return function(t,e){var r=ze(t,e);return r&&r.value}(r,n)},has:function(n){if(Ne&&n&&("object"==typeof n||"function"==typeof n)){if(t)return He(t,n)}else if(Be){if(e)return We(e,n)}else if(r)return function(t,e){return!!ze(t,e)}(r,n);return!1},set:function(n,o){Ne&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new Ne),Me(t,n,o)):Be?(e||(e=new Be),Ve(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=ze(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n},Ke=String.prototype.replace,$e=/%20/g,Xe="RFC3986",Je={default:Xe,formatters:{RFC1738:function(t){return Ke.call(t,$e,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:Xe},Ze=Object.prototype.hasOwnProperty,tr=Array.isArray,er=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),rr=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},nr={arrayToObject:rr,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],u=Object.keys(i),a=0;a<u.length;++a){var s=u[a],c=i[s];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:i,prop:s}),r.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(tr(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var u="",a=0;a<i.length;++a){var s=i.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||o===Je.RFC1738&&(40===s||41===s)?u+=i.charAt(a):s<128?u+=er[s]:s<2048?u+=er[192|s>>6]+er[128|63&s]:s<55296||s>=57344?u+=er[224|s>>12]+er[128|s>>6&63]+er[128|63&s]:(s=65536+((1023&s)<<10|1023&i.charCodeAt(a+=1)),u+=er[240|s>>18]+er[128|s>>12&63]+er[128|s>>6&63]+er[128|63&s])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(tr(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(tr(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!Ze.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return tr(e)&&!tr(r)&&(o=rr(e,n)),tr(e)&&tr(r)?(r.forEach(function(r,o){if(Ze.call(e,o)){var i=e[o];i&&"object"==typeof i&&r&&"object"==typeof r?e[o]=t(i,r,n):e.push(r)}else e[o]=r}),e):Object.keys(r).reduce(function(e,o){var i=r[o];return e[o]=Ze.call(e,o)?t(e[o],i,n):i,e},o)}},or=Object.prototype.hasOwnProperty,ir={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},ur=Array.isArray,ar=String.prototype.split,sr=Array.prototype.push,cr=function(t,e){sr.apply(t,ur(e)?e:[e])},lr=Date.prototype.toISOString,pr=Je.default,fr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:nr.encode,encodeValuesOnly:!1,format:pr,formatter:Je.formatters[pr],indices:!1,serializeDate:function(t){return lr.call(t)},skipNulls:!1,strictNullHandling:!1},yr={},hr=function t(e,r,n,o,i,u,a,s,c,l,p,f,y,h,d,m){for(var b,w=e,_=m,v=0,g=!1;void 0!==(_=_.get(yr))&&!g;){var E=_.get(e);if(v+=1,void 0!==E){if(E===v)throw new RangeError("Cyclic object value");g=!0}void 0===_.get(yr)&&(v=0)}if("function"==typeof s?w=s(r,w):w instanceof Date?w=p(w):"comma"===n&&ur(w)&&(w=nr.maybeMap(w,function(t){return t instanceof Date?p(t):t})),null===w){if(i)return a&&!h?a(r,fr.encoder,d,"key",f):r;w=""}if("string"==typeof(b=w)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||nr.isBuffer(w)){if(a){var P=h?r:a(r,fr.encoder,d,"key",f);if("comma"===n&&h){for(var O=ar.call(String(w),","),T="",S=0;S<O.length;++S)T+=(0===S?"":",")+y(a(O[S],fr.encoder,d,"value",f));return[y(P)+(o&&ur(w)&&1===O.length?"[]":"")+"="+T]}return[y(P)+"="+y(a(w,fr.encoder,d,"value",f))]}return[y(r)+"="+y(String(w))]}var j,x=[];if(void 0===w)return x;if("comma"===n&&ur(w))j=[{value:w.length>0?w.join(",")||null:void 0}];else if(ur(s))j=s;else{var k=Object.keys(w);j=c?k.sort(c):k}for(var A=o&&ur(w)&&1===w.length?r+"[]":r,q=0;q<j.length;++q){var I=j[q],C="object"==typeof I&&void 0!==I.value?I.value:w[I];if(!u||null!==C){var D=ur(w)?"function"==typeof n?n(A,I):A:A+(l?"."+I:"["+I+"]");m.set(e,v);var L=Qe();L.set(yr,m),cr(x,t(C,D,n,o,i,u,a,s,c,l,p,f,y,h,d,L))}}return x},dr=G(function(t,e){var r="undefined"!=typeof self?self:N,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,u="ArrayBuffer"in t;if(u)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function d(t){var e=new FileReader,r=h(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,r,n=y(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=h(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),p(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),p(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),p(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(t,e){var r,n,o=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];g.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function P(t,r){return new Promise(function(n,i){var u=new _(t,r);if(u.signal&&u.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),n(new g("response"in a?a.response:a.responseText,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(u.method,u.url,!0),"include"===u.credentials?a.withCredentials=!0:"omit"===u.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),u.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),u.signal&&(u.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&u.signal.removeEventListener("abort",s)}),a.send(void 0===u._bodyInit?null:u._bodyInit)})}P.polyfill=!0,t.fetch||(t.fetch=P,t.Headers=f,t.Request=_,t.Response=g),e.Headers=f,e.Request=_,e.Response=g,e.fetch=P,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}),mr=/*@__PURE__*/B(dr),br=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wr=function(t){function e(){var e=this.constructor,r=t.call(this,"Promise canceled!")||this;return Object.setPrototypeOf(r,e.prototype),r}return br(e,t),e}(Error),_r=function(){return _r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_r.apply(this,arguments)};function vr(t,e,r,n,o,i,u){return{request:{url:e,method:t,headers:r,body:n},response:{status:o.status,statusText:o.statusText,headers:(a=o.headers,s={},a.forEach(function(t,e){s[e]=t}),s),body:i},preCallStack:u};var a,s}!function(t){t[t.NONE=0]="NONE",t[t.BASIC=1]="BASIC",t[t.BODY=2]="BODY",t[t.BODY_AND_HEADERS=3]="BODY_AND_HEADERS"}(Ue||(Ue={}));var gr=1;function Er(t){return e=this,n=function(){var e,r,n,o,i,u,a,s,c,l,p,f,y,h,d,m,b,w,_,v,g,E,P,O,T,S,j,x;return function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(k){switch(k.label){case 0:if(e=gr,gr+=1,r=t.preCallStack,n=t.userAgent||"@datocms/rest-client-utils",o=t.retryCount||1,i=t.logLevel||Ue.NONE,u=!("autoRetry"in t)||t.autoRetry,a=t.logFn||function(){return!0},s=_r({"content-type":"application/json",accept:"application/json",authorization:"Bearer ".concat(t.apiToken),"user-agent":n},t.extraHeaders||{}),c=t.baseUrl.replace(/\/$/,""),l=t.body?JSON.stringify(t.body,null,2):void 0,p=t.queryParams&&Object.keys(t.queryParams).length>0?"?".concat(function(t,e){var r,n=t,o=function(t){if(!t)return fr;if(null!=t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||fr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Je.default;if(void 0!==t.format){if(!or.call(Je.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=Je.formatters[r],o=fr.filter;return("function"==typeof t.filter||ur(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:fr.addQueryPrefix,allowDots:void 0===t.allowDots?fr.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:fr.charsetSentinel,delimiter:void 0===t.delimiter?fr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:fr.encode,encoder:"function"==typeof t.encoder?t.encoder:fr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:fr.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:fr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:fr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:fr.strictNullHandling}}(e);"function"==typeof o.filter?n=(0,o.filter)("",n):ur(o.filter)&&(r=o.filter);var i=[];if("object"!=typeof n||null===n)return"";var u=ir[e&&e.arrayFormat in ir?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices"];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a="comma"===u&&e&&e.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var s=Qe(),c=0;c<r.length;++c){var l=r[c];o.skipNulls&&null===n[l]||cr(i,hr(n[l],l,u,a,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,s))}var p=i.join(o.delimiter),f=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&(f+="iso-8859-1"===o.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),p.length>0?f+p:""}(t.queryParams,{arrayFormat:"brackets"})):"",f="".concat(c).concat(t.url).concat(p),i>=Ue.BASIC){if(a("[".concat(e,"] ").concat(t.method," ").concat(f)),i>=Ue.BODY_AND_HEADERS)for(y=0,h=Object.entries(s||{});y<h.length;y++)m=(d=h[y])[0],b=d[1],a("[".concat(e,"] ").concat(m,": ").concat(b));i>=Ue.BODY&&l&&a("[".concat(e,"] ").concat(l))}k.label=1;case 1:return k.trys.push([1,12,,16]),A=mr(f,{method:t.method,headers:s,body:l}),q=null,I=new Promise(function(t,e){q=function(){try{e(new wr)}catch(t){e(t)}},("function"==typeof A?A():A).then(t,e)}),q&&(I.cancel=q),w=I,_=setTimeout(function(){w.cancel()},t.requestTimeout||3e4),[4,w];case 2:if(v=k.sent(),clearTimeout(_),g=v.headers.get("Content-Type"),E=g&&!g.includes("application/json"),429!==v.status&&!E)return[3,4];if(!u||E&&"GET"!==t.method)throw new D(vr(t.method,f,s,t.body,v,void 0,r));return P=v.headers.has("X-RateLimit-Reset")?parseInt(v.headers.get("X-RateLimit-Reset"),10):o,i>=Ue.BASIC&&a(429===v.status?"[".concat(e,"] Rate limit exceeded, wait ").concat(P," seconds then retry..."):"[".concat(e,'] Invalid response content type "').concat(g,'" (status ').concat(v.status,"). Wait ").concat(P," seconds then retry...")),[4,F(1e3*P)];case 3:return k.sent(),[2,Er(_r(_r({},t),{retryCount:o+1}))];case 4:return i>=Ue.BASIC&&(a("[".concat(e,"] Status: ").concat(v.status," (").concat(v.statusText,")")),i>=Ue.BODY_AND_HEADERS&&["x-api-version","x-environment","x-queue-time","x-ratelimit-remaining","x-request-id","cf-ray"].forEach(function(t){var r=v.headers.get(t);r&&a("[".concat(e,"] ").concat(t,": ").concat(r))})),204!==v.status?[3,5]:(T=void 0,[3,7]);case 5:return[4,v.json()];case 6:T=k.sent(),k.label=7;case 7:return O=T,i>=Ue.BODY&&O&&a("[".concat(e,"] ").concat(JSON.stringify(O,null,2))),202!==v.status?[3,9]:[4,t.fetchJobResult(O.data.id)];case 8:if((S=k.sent()).status<200||S.status>=300)throw new D(function(t,e,r,n,o,i,u){return{request:{url:e,method:t,headers:r,body:n},response:{status:o,statusText:"N/A",headers:{},body:i},preCallStack:u}}(t.method,f,s,t.body,S.status,S.payload,r));O=S.payload,k.label=9;case 9:return v.status>=200&&v.status<300?[2,O]:(j=new D(vr(t.method,f,s,t.body,v,O,r)),u&&j.findError("BATCH_DATA_VALIDATION_IN_PROGRESS")?(i>=Ue.BASIC&&a("[".concat(e,"] Data validation in progress, wait ").concat(o," seconds then retry...")),[4,F(1e3*o)]):[3,11]);case 10:return k.sent(),[2,Er(_r(_r({},t),{retryCount:o+1}))];case 11:throw j;case 12:return(x=k.sent())instanceof wr||function(t){return"object"==typeof t&&!!t&&"code"in t}(x)&&x.code.includes("ETIMEDOUT")?u?(i>=Ue.BASIC&&a("[".concat(e,"] Timeout error, wait ").concat(o," seconds then retry...")),[4,F(1e3*o)]):[3,14]:[3,15];case 13:return k.sent(),[2,Er(_r(_r({},t),{retryCount:o+1}))];case 14:throw new C(function(t,e,r,n,o){return{request:{url:e,method:t,headers:r,body:n},preCallStack:o}}(t.method,f,s,t.body,r));case 15:throw x;case 16:return[2]}var A,q,I})},new((r=void 0)||(r=Promise))(function(t,o){function i(t){try{a(n.next(t))}catch(t){o(t)}}function u(t){try{a(n.throw(t))}catch(t){o(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(t){t(n)})).then(i,u)}a((n=n.apply(e,[])).next())});var e,r,n}var Pr=function(){return Pr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pr.apply(this,arguments)};function Or(t){return"object"==typeof t&&!!t&&"id"in t&&"type"in t}function Tr(t){return Array.isArray(t)&&t.every(Or)}function Sr(t,e){if("object"!=typeof t||!t)throw new Error("Invalid body!");var r=t.id,n=t.type,o=t.meta,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["id","type","meta"]),u={},a={};return"*"===e.attributes?Object.entries(i).forEach(function(t){var r=t[0],n=t[1];e.relationships.includes(r)?a[r]=Or(n)?{data:{id:n.id,type:n.type}}:Tr(n)?{data:n.map(function(t){return{id:t.id,type:t.type}})}:{data:null}:u[r]=n}):"*"===e.relationships?Object.entries(i).forEach(function(t){var r=t[0],n=t[1];e.attributes.includes(r)?u[r]=n:a[r]=Or(n)?{data:{id:n.id,type:n.type}}:Tr(n)?{data:n.map(function(t){return{id:t.id,type:t.type}})}:{data:null}}):Object.entries(i).forEach(function(t){var r=t[0],n=t[1];e.attributes.includes(r)?u[r]=n:e.relationships.includes(r)&&(a[r]=Or(n)?{data:{id:n.id,type:n.type}}:Tr(n)?{data:n.map(function(t){return{id:t.id,type:t.type}})}:{data:null})}),{data:Pr(Pr(Pr(Pr(Pr({},r||e.id?{id:r||e.id}:{}),{type:n||e.type}),Object.keys(u).length>0?{attributes:u}:{}),Object.keys(a).length>0?{relationships:a}:{}),o?{meta:o}:{})}}function jr(t){return"string"==typeof t?t:t.id}var xr=function(t){this.client=t},kr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kr(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"role",attributes:["name","can_edit_favicon","can_edit_site","can_edit_schema","can_manage_menu","can_edit_environment","can_promote_environments","environments_access","can_manage_users","can_manage_shared_filters","can_manage_build_triggers","can_manage_webhooks","can_manage_environments","can_manage_sso","can_access_audit_log","can_manage_workflows","can_manage_access_tokens","can_perform_site_search","can_access_build_events_log","positive_item_type_permissions","negative_item_type_permissions","positive_upload_permissions","negative_upload_permissions","positive_build_trigger_permissions","negative_build_trigger_permissions"],relationships:["inherits_permissions_from"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/roles",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"role",attributes:["name","can_edit_favicon","can_edit_site","can_edit_schema","can_manage_menu","can_edit_environment","can_promote_environments","environments_access","can_manage_users","can_manage_shared_filters","can_manage_build_triggers","can_manage_webhooks","can_manage_environments","can_manage_sso","can_access_audit_log","can_manage_workflows","can_manage_access_tokens","can_perform_site_search","can_access_build_events_log","positive_item_type_permissions","negative_item_type_permissions","positive_upload_permissions","negative_upload_permissions","positive_build_trigger_permissions","negative_build_trigger_permissions"],relationships:["inherits_permissions_from"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/roles/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/roles"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/roles/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/roles/".concat(t)})},e.TYPE="role",e}(xr),qr=Ar,Ir=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=function(){return Cr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Cr.apply(this,arguments)},Dr=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};function Lr(t,e){return null==t&&null==e||t===e}function Ur(t,e,r,n){if(!e)return t;var o=e.add,i=e.remove;return Dr(Dr([],i?i.reduce(function(t,e){var o=Cr(Cr({},e),{environment:r}),i=t.find(function(t){return function(t,e){for(var r in Object.keys(t))if(!Lr(t[r],e[r]))return!1;for(var r in Object.keys(e))if(!Lr(t[r],e[r]))return!1;return!0}(t,o)});if(!i)throw new Error("Cannot find rule ".concat(JSON.stringify(o)," to remove in ").concat(n,"!"));return t.filter(function(t){return t!==i})},t):t,!0),o?o.map(function(t){return Cr({environment:r},t)}):[],!0)}var Rr,Fr,Nr,Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ir(e,t),e.prototype.updateCurrentEnvironmentPermissions=function(t,e){return r=this,o=function(){var r,n,o,i,u,a;return function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(s){switch(s.label){case 0:return(n=this.client.config.environment)?[3,2]:[4,this.client.environments.list()];case 1:n=s.sent().find(function(t){return t.meta.primary}).id,s.label=2;case 2:return r=n,[4,this.find(t)];case 3:return o=s.sent(),i=Boolean(e.positive_item_type_permissions||e.negative_item_type_permissions),u=Boolean(e.positive_upload_permissions||e.negative_upload_permissions),a=Cr(Cr({},i?{positive_item_type_permissions:Ur(o.positive_item_type_permissions,e.positive_item_type_permissions,r,"positive_item_type_permissions"),negative_item_type_permissions:Ur(o.negative_item_type_permissions,e.negative_item_type_permissions,r,"negative_item_type_permissions")}:{}),u?{positive_upload_permissions:Ur(o.positive_upload_permissions,e.positive_upload_permissions,r,"positive_upload_permissions"),negative_upload_permissions:Ur(o.negative_upload_permissions,e.negative_upload_permissions,r,"negative_upload_permissions")}:{}),[2,this.update(t,a)]}})},new((n=void 0)||(n=Promise))(function(t,e){function i(t){try{a(o.next(t))}catch(t){e(t)}}function u(t){try{a(o.throw(t))}catch(t){e(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(i,u)}a((o=o.apply(r,[])).next())});var r,n,o},e}(qr),Gr=Br,Mr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"user",attributes:["is_active"],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/users/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/users"})},e.prototype.find=function(t,e){return this.rawFind(jr(t),e).then(function(t){return R(t)})},e.prototype.rawFind=function(t,e){return this.client.request({method:"GET",url:"/users/".concat(t),queryParams:e})},e.prototype.findMe=function(t){return this.rawFindMe(t).then(function(t){return R(t)})},e.prototype.rawFindMe=function(t){return this.client.request({method:"GET",url:"/users/me",queryParams:t})},e.prototype.destroy=function(t,e){return this.rawDestroy(jr(t),e).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t,e){return this.client.request({method:"DELETE",url:"/users/".concat(t),queryParams:e})},e.TYPE="user",e}(xr),Yr=Hr,Vr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vr(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/sso-users"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/sso-users/".concat(t)})},e.prototype.copyUsers=function(){return this.rawCopyUsers().then(function(t){return R(t)})},e.prototype.rawCopyUsers=function(){return this.client.request({method:"POST",url:"/sso-users/copy-users"})},e.prototype.destroy=function(t,e){return this.rawDestroy(jr(t),e).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t,e){return this.client.request({method:"DELETE",url:"/sso-users/".concat(t),queryParams:e})},e.TYPE="sso_user",e}(xr),zr=Wr,Qr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qr(e,t),e.prototype.query=function(t){return this.rawQuery(Sr(t,{type:"audit_log_query",attributes:["filter","next_token","detailed_log"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawQuery=function(t){return this.client.request({method:"POST",url:"/audit-log-events/query",body:t})},e.TYPE="audit_log_event",e}(xr),$r=Kr,Xr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xr(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"menu_item",attributes:["label","external_url","position","open_in_new_tab"],relationships:["item_type","item_type_filter","parent"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/menu-items",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"menu_item",attributes:["label","external_url","position","open_in_new_tab"],relationships:["item_type","item_type_filter","parent"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/menu-items/".concat(t),body:e})},e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/menu-items",queryParams:t})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/menu-items/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/menu-items/".concat(t)})},e.TYPE="menu_item",e}(xr),Zr=Jr,tn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tn(e,t),e.prototype.create=function(t,e){return this.rawCreate(Sr(t,{type:"item_type",attributes:["name","api_key","singleton","all_locales_required","sortable","modular_block","draft_mode_active","tree","ordering_direction","ordering_meta","collection_appeareance","collection_appearance","hint"],relationships:["ordering_field","title_field","image_preview_field","excerpt_field","workflow"]}),e).then(function(t){return R(t)})},e.prototype.rawCreate=function(t,e){return this.client.request({method:"POST",url:"/item-types",body:t,queryParams:e})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"item_type",attributes:["name","api_key","collection_appeareance","collection_appearance","singleton","all_locales_required","sortable","modular_block","draft_mode_active","tree","ordering_direction","ordering_meta","has_singleton_item","hint"],relationships:["ordering_field","title_field","image_preview_field","excerpt_field","workflow"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/item-types/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/item-types"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/item-types/".concat(t)})},e.prototype.duplicate=function(t){return this.rawDuplicate(jr(t)).then(function(t){return R(t)})},e.prototype.rawDuplicate=function(t){return this.client.request({method:"POST",url:"/item-types/".concat(t,"/duplicate")})},e.prototype.destroy=function(t,e){return this.rawDestroy(jr(t),e).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t,e){return this.client.request({method:"DELETE",url:"/item-types/".concat(t),queryParams:e})},e.TYPE="item_type",e}(xr),rn=en,nn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nn(e,t),e.prototype.create=function(t,e){return this.rawCreate(jr(t),Sr(e,{type:"field",attributes:["label","field_type","api_key","localized","validators","appeareance","appearance","position","hint","default_value"],relationships:["fieldset"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t,e){return this.client.request({method:"POST",url:"/item-types/".concat(t,"/fields"),body:e})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"field",attributes:["default_value","label","api_key","localized","validators","appeareance","appearance","position","field_type","hint"],relationships:["fieldset"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/fields/".concat(t),body:e})},e.prototype.list=function(t){return this.rawList(jr(t)).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/item-types/".concat(t,"/fields")})},e.prototype.referencing=function(t){return this.rawReferencing(jr(t)).then(function(t){return R(t)})},e.prototype.rawReferencing=function(t){return this.client.request({method:"GET",url:"/item-types/".concat(t,"/fields/referencing")})},e.prototype.related=function(t){return this.rawRelated(jr(t)).then(function(t){return R(t)})},e.prototype.rawRelated=function(t){return this.client.request({method:"GET",url:"/item-types/".concat(t,"/fields/related")})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/fields/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/fields/".concat(t)})},e.prototype.duplicate=function(t){return this.rawDuplicate(jr(t)).then(function(t){return R(t)})},e.prototype.rawDuplicate=function(t){return this.client.request({method:"POST",url:"/fields/".concat(t,"/duplicate")})},e.TYPE="field",e}(xr),un=on,an=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return an(e,t),e.prototype.create=function(t,e){return this.rawCreate(jr(t),Sr(e,{type:"fieldset",attributes:["title","hint","position","collapsible","start_collapsed"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t,e){return this.client.request({method:"POST",url:"/item-types/".concat(t,"/fieldsets"),body:e})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"fieldset",attributes:["title","hint","position","collapsible","start_collapsed"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/fieldsets/".concat(t),body:e})},e.prototype.list=function(t){return this.rawList(jr(t)).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/item-types/".concat(t,"/fieldsets")})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/fieldsets/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/fieldsets/".concat(t)})},e.TYPE="fieldset",e}(xr),cn=sn,ln=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ln(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"email_credentials",attributes:["email","password","otp_code"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/sessions",body:t})},e.TYPE="session",e}(xr),fn=pn,yn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yn(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"access_token",attributes:["name","can_access_cda","can_access_cda_preview","can_access_cma"],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/access_tokens",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"access_token",attributes:["name","can_access_cda","can_access_cda_preview","can_access_cma"],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/access_tokens/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/access_tokens"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/access_tokens/".concat(t)})},e.prototype.regenerateToken=function(t){return this.rawRegenerateToken(jr(t)).then(function(t){return R(t)})},e.prototype.rawRegenerateToken=function(t){return this.client.request({method:"POST",url:"/access_tokens/".concat(t,"/regenerate_token")})},e.prototype.destroy=function(t,e){return this.rawDestroy(jr(t),e).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t,e){return this.client.request({method:"DELETE",url:"/access_tokens/".concat(t),queryParams:e})},e.TYPE="access_token",e}(xr),dn=hn,mn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mn(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"plugin",attributes:["package_name","name","description","url","permissions","plugin_type","field_types","parameter_definitions","package_version"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/plugins",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"plugin",attributes:["name","description","url","parameters","package_version","permissions"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/plugins/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/plugins"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/plugins/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/plugins/".concat(t)})},e.prototype.fields=function(t){return this.rawFields(jr(t)).then(function(t){return R(t)})},e.prototype.rawFields=function(t){return this.client.request({method:"GET",url:"/plugins/".concat(t,"/fields")})},e.TYPE="plugin",e}(xr),wn=bn,_n=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _n(e,t),e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/job-results/".concat(t)})},e.TYPE="job_result",e}(xr),gn=vn,En=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return En(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/subscription-limits"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/subscription-limits/".concat(t)})},e.TYPE="subscription_limit",e}(xr),On=Pn,Tn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tn(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/subscription-features"})},e.TYPE="subscription_feature",e}(xr),jn=Sn,xn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xn(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/build-events"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/build-events/".concat(t)})},e.TYPE="build_event",e}(xr),An=kn,qn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),In=function(){return In=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},In.apply(this,arguments)},Cn=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Dn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},Ln=function(t){return this instanceof Ln?(this.v=t,this):new Ln(t)},Un=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof Ln?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qn(e,t),e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/items",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return Un(this,arguments,function(){var r,n,o,i,u;return Cn(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=Dn(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,Ln(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,Ln(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,Ln(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:30,maxLimit:500},function(e){return r.rawList(In(In({},t),{page:e}))},e)},e.prototype.validateExisting=function(t,e){return this.rawValidateExisting(jr(t),Sr(e,{id:jr(t),type:"item",attributes:"*",relationships:["item_type","creator"]}))},e.prototype.rawValidateExisting=function(t,e){return this.client.request({method:"POST",url:"/items/".concat(t,"/validate"),body:e})},e.prototype.validateNew=function(t){return this.rawValidateNew(Sr(t,{type:"item",attributes:"*",relationships:["item_type"]}))},e.prototype.rawValidateNew=function(t){return this.client.request({method:"POST",url:"/items/validate",body:t})},e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"item",attributes:"*",relationships:["item_type"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/items",body:t})},e.prototype.duplicate=function(t){return this.rawDuplicate(jr(t)).then(function(t){return R(t)})},e.prototype.rawDuplicate=function(t){return this.client.request({method:"POST",url:"/items/".concat(t,"/duplicate")})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"item",attributes:"*",relationships:["item_type","creator"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/items/".concat(t),body:e})},e.prototype.references=function(t,e){return this.rawReferences(jr(t),e).then(function(t){return R(t)})},e.prototype.rawReferences=function(t,e){return this.client.request({method:"GET",url:"/items/".concat(t,"/references"),queryParams:e})},e.prototype.find=function(t,e){return this.rawFind(jr(t),e).then(function(t){return R(t)})},e.prototype.rawFind=function(t,e){return this.client.request({method:"GET",url:"/items/".concat(t),queryParams:e})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/items/".concat(t)})},e.prototype.batchDestroy=function(t){return this.rawBatchDestroy(t).then(function(t){return R(t)})},e.prototype.rawBatchDestroy=function(t){return this.client.request({method:"DELETE",url:"/items",queryParams:t})},e.prototype.batchPublish=function(t){return this.rawBatchPublish(t).then(function(t){return R(t)})},e.prototype.rawBatchPublish=function(t){return this.client.request({method:"PUT",url:"/items/publish",queryParams:t})},e.prototype.batchUnpublish=function(t){return this.rawBatchUnpublish(t).then(function(t){return R(t)})},e.prototype.rawBatchUnpublish=function(t){return this.client.request({method:"PUT",url:"/items/unpublish",queryParams:t})},e.prototype.publish=function(t,e){return this.rawPublish(jr(t),e).then(function(t){return R(t)})},e.prototype.rawPublish=function(t,e){return this.client.request({method:"PUT",url:"/items/".concat(t,"/publish"),queryParams:e})},e.prototype.unpublish=function(t,e){return this.rawUnpublish(jr(t),e).then(function(t){return R(t)})},e.prototype.rawUnpublish=function(t,e){return this.client.request({method:"PUT",url:"/items/".concat(t,"/unpublish"),queryParams:e})},e.prototype.bulkPublish=function(t){return this.rawBulkPublish(Sr(t,{type:"item_bulk_publish_operation",attributes:[],relationships:["items"]})).then(function(t){return R(t)})},e.prototype.rawBulkPublish=function(t){return this.client.request({method:"POST",url:"/items/bulk/publish",body:t})},e.prototype.bulkUnpublish=function(t){return this.rawBulkUnpublish(Sr(t,{type:"item_bulk_unpublish_operation",attributes:[],relationships:["items"]})).then(function(t){return R(t)})},e.prototype.rawBulkUnpublish=function(t){return this.client.request({method:"POST",url:"/items/bulk/unpublish",body:t})},e.prototype.bulkDestroy=function(t){return this.rawBulkDestroy(Sr(t,{type:"item_bulk_destroy_operation",attributes:[],relationships:["items"]})).then(function(t){return R(t)})},e.prototype.rawBulkDestroy=function(t){return this.client.request({method:"POST",url:"/items/bulk/destroy",body:t})},e.prototype.bulkMoveToStage=function(t){return this.rawBulkMoveToStage(Sr(t,{type:"item_bulk_move_to_stage_operation",attributes:["stage"],relationships:["items"]})).then(function(t){return R(t)})},e.prototype.rawBulkMoveToStage=function(t){return this.client.request({method:"POST",url:"/items/bulk/move-to-stage",body:t})},e.TYPE="item",e}(xr),Fn=Rn,Nn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bn=function(){return Bn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Bn.apply(this,arguments)},Gn=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Mn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},Hn=function(t){return this instanceof Hn?(this.v=t,this):new Hn(t)},Yn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof Hn?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},Vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nn(e,t),e.prototype.restore=function(t){return this.rawRestore(jr(t)).then(function(t){return R(t)})},e.prototype.rawRestore=function(t){return this.client.request({method:"POST",url:"/versions/".concat(t,"/restore")})},e.prototype.list=function(t,e){return this.rawList(jr(t),e).then(function(t){return R(t)})},e.prototype.rawList=function(t,e){return this.client.request({method:"GET",url:"/items/".concat(t,"/versions"),queryParams:e})},e.prototype.listPagedIterator=function(t,e,r){return Yn(this,arguments,function(){var n,o,i,u,a;return Gn(this,function(s){switch(s.label){case 0:s.trys.push([0,7,8,13]),n=Mn(this.rawListPagedIterator(jr(t),e,r)),s.label=1;case 1:return[4,Hn(n.next())];case 2:return(o=s.sent()).done?[3,6]:[4,Hn(U(o.value))];case 3:return[4,s.sent()];case 4:s.sent(),s.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return i=s.sent(),u={error:i},[3,13];case 8:return s.trys.push([8,,11,12]),o&&!o.done&&(a=n.return)?[4,Hn(a.call(n))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:if(u)throw u.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e,r){var n=this;return nt({defaultLimit:15,maxLimit:50},function(r){return n.rawList(t,Bn(Bn({},e),{page:r}))},r)},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/versions/".concat(t)})},e.TYPE="item_version",e}(xr),Wn=Vn,zn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qn=function(){return Qn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qn.apply(this,arguments)},Kn=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},$n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},Xn=function(t){return this instanceof Xn?(this.v=t,this):new Xn(t)},Jn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof Xn?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},Zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zn(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"upload",attributes:["path","copyright","author","notes","default_field_metadata","tags"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/uploads",body:t})},e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/uploads",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return Jn(this,arguments,function(){var r,n,o,i,u;return Kn(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=$n(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,Xn(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,Xn(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,Xn(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:30,maxLimit:500},function(e){return r.rawList(Qn(Qn({},t),{page:e}))},e)},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/uploads/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/uploads/".concat(t)})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"upload",attributes:["path","basename","copyright","author","notes","tags","default_field_metadata"],relationships:["creator"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/uploads/".concat(t),body:e})},e.prototype.batchAddTags=function(t,e){return this.rawBatchAddTags(Sr(t,{type:"upload",attributes:["tags"],relationships:[]}),e).then(function(t){return R(t)})},e.prototype.rawBatchAddTags=function(t,e){return this.client.request({method:"PUT",url:"/uploads/batch-add-tags",body:t,queryParams:e})},e.prototype.batchDestroy=function(t){return this.rawBatchDestroy(t).then(function(t){return R(t)})},e.prototype.rawBatchDestroy=function(t){return this.client.request({method:"DELETE",url:"/uploads/batch-destroy",queryParams:t})},e.prototype.references=function(t,e){return this.rawReferences(jr(t),e).then(function(t){return R(t)})},e.prototype.rawReferences=function(t,e){return this.client.request({method:"GET",url:"/uploads/".concat(t,"/references"),queryParams:e})},e.prototype.bulkTag=function(t){return this.rawBulkTag(Sr(t,{type:"upload_bulk_tag_operation",attributes:["tags"],relationships:["uploads"]})).then(function(t){return R(t)})},e.prototype.rawBulkTag=function(t){return this.client.request({method:"POST",url:"/uploads/bulk/tag",body:t})},e.prototype.bulkDestroy=function(t){return this.rawBulkDestroy(Sr(t,{type:"upload_bulk_destroy_operation",attributes:[],relationships:["uploads"]})).then(function(t){return R(t)})},e.prototype.rawBulkDestroy=function(t){return this.client.request({method:"POST",url:"/uploads/bulk/destroy",body:t})},e.TYPE="upload",e}(xr),to=Zn,eo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eo(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"upload_request",attributes:["filename"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/upload-requests",body:t})},e.TYPE="upload_request",e}(xr),no=ro,oo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oo(e,t),e.prototype.create=function(t,e){return this.rawCreate(jr(t),Sr(e,{type:"scheduled_publication",attributes:["publication_scheduled_at"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t,e){return this.client.request({method:"POST",url:"/items/".concat(t,"/scheduled-publication"),body:e})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/items/".concat(t,"/scheduled-publication")})},e.TYPE="scheduled_publication",e}(xr),uo=io,ao=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ao(e,t),e.prototype.create=function(t,e){return this.rawCreate(jr(t),Sr(e,{type:"scheduled_unpublishing",attributes:["unpublishing_scheduled_at"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t,e){return this.client.request({method:"POST",url:"/items/".concat(t,"/scheduled-unpublishing"),body:e})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/items/".concat(t,"/scheduled-unpublishing")})},e.TYPE="scheduled_unpublishing",e}(xr),co=so,lo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),po=function(){return po=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},po.apply(this,arguments)},fo=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yo=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},ho=function(t){return this instanceof ho?(this.v=t,this):new ho(t)},mo=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof ho?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lo(e,t),e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/search-results",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return mo(this,arguments,function(){var r,n,o,i,u;return fo(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=yo(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,ho(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,ho(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,ho(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:20,maxLimit:100},function(e){return r.rawList(po(po({},t),{page:e}))},e)},e.TYPE="search_result",e}(xr),wo=bo,_o=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _o(e,t),e.prototype.fork=function(t,e){return this.rawFork(jr(t),Sr(e,{id:jr(t),type:"environment",attributes:[],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawFork=function(t,e){return this.client.request({method:"POST",url:"/environments/".concat(t,"/fork"),body:e})},e.prototype.promote=function(t){return this.rawPromote(jr(t)).then(function(t){return R(t)})},e.prototype.rawPromote=function(t){return this.client.request({method:"PUT",url:"/environments/".concat(t,"/promote")})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/environments"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/environments/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/environments/".concat(t)})},e.TYPE="environment",e}(xr),go=vo,Eo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Eo(e,t),e.prototype.find=function(){return this.rawFind().then(function(t){return R(t)})},e.prototype.rawFind=function(){return this.client.request({method:"GET",url:"/maintenance-mode"})},e.prototype.activate=function(t){return this.rawActivate(t).then(function(t){return R(t)})},e.prototype.rawActivate=function(t){return this.client.request({method:"PUT",url:"/maintenance-mode/activate",queryParams:t})},e.prototype.deactivate=function(){return this.rawDeactivate().then(function(t){return R(t)})},e.prototype.rawDeactivate=function(){return this.client.request({method:"PUT",url:"/maintenance-mode/deactivate"})},e.TYPE="maintenance_mode",e}(xr),Oo=Po,To=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return To(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"webhook",attributes:["name","url","custom_payload","headers","events","http_basic_user","http_basic_password","enabled","payload_api_version","nested_items_in_payload"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/webhooks",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{type:"webhook",attributes:["name","url","custom_payload","headers","events","http_basic_user","http_basic_password","enabled","payload_api_version","nested_items_in_payload"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/webhooks/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/webhooks"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/webhooks/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/webhooks/".concat(t)})},e.TYPE="webhook",e}(xr),jo=So,xo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ko=function(){return ko=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ko.apply(this,arguments)},Ao=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},qo=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},Io=function(t){return this instanceof Io?(this.v=t,this):new Io(t)},Co=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof Io?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xo(e,t),e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/webhook_calls",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return Co(this,arguments,function(){var r,n,o,i,u;return Ao(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=qo(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,Io(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,Io(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,Io(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:30,maxLimit:500},function(e){return r.rawList(ko(ko({},t),{page:e}))},e)},e.prototype.resendWebhook=function(t){return this.rawResendWebhook(jr(t))},e.prototype.rawResendWebhook=function(t){return this.client.request({method:"POST",url:"/webhook_calls/".concat(t,"/resend_webhook")})},e.TYPE="webhook_call",e}(xr),Lo=Do,Uo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uo(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/build-triggers"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/build-triggers/".concat(t)})},e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"build_trigger",attributes:["name","webhook_token","adapter","indexing_enabled","frontend_url","autotrigger_on_scheduled_publications","adapter_settings"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/build-triggers",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"build_trigger",attributes:["name","adapter","indexing_enabled","frontend_url","autotrigger_on_scheduled_publications","adapter_settings"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/build-triggers/".concat(t),body:e})},e.prototype.trigger=function(t){return this.rawTrigger(jr(t))},e.prototype.rawTrigger=function(t){return this.client.request({method:"POST",url:"/build-triggers/".concat(t,"/trigger")})},e.prototype.abort=function(t){return this.rawAbort(jr(t))},e.prototype.rawAbort=function(t){return this.client.request({method:"DELETE",url:"/build-triggers/".concat(t,"/abort")})},e.prototype.abortIndexing=function(t){return this.rawAbortIndexing(jr(t))},e.prototype.rawAbortIndexing=function(t){return this.client.request({method:"DELETE",url:"/build-triggers/".concat(t,"/abort_indexing")})},e.prototype.reindex=function(t){return this.rawReindex(jr(t))},e.prototype.rawReindex=function(t){return this.client.request({method:"PUT",url:"/build-triggers/".concat(t,"/reindex")})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/build-triggers/".concat(t)})},e.TYPE="build_trigger",e}(xr),Fo=Ro,No=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return No(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"item_type_filter",attributes:["name","filter","columns","order_by","shared"],relationships:["item_type"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/item-type-filters",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"item_type_filter",attributes:["name","columns","order_by","shared","filter"],relationships:["item_type"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/item-type-filters/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/item-type-filters"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/item-type-filters/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/item-type-filters/".concat(t)})},e.TYPE="item_type_filter",e}(xr),Go=Bo,Mo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mo(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"upload_filter",attributes:["name","filter","shared"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/upload-filters",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"upload_filter",attributes:["name","shared","filter"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/upload-filters/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/upload-filters"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/upload-filters/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/upload-filters/".concat(t)})},e.TYPE="upload_filter",e}(xr),Yo=Ho,Vo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vo(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"site_invitation",attributes:["email"],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/site-invitations",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"site_invitation",attributes:[],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/site-invitations/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/site-invitations"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/site-invitations/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/site-invitations/".concat(t)})},e.prototype.resend=function(t){return this.rawResend(jr(t))},e.prototype.rawResend=function(t){return this.client.request({method:"POST",url:"/site-invitations/".concat(t,"/resend")})},e.TYPE="site_invitation",e}(xr),zo=Wo,Qo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qo(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/editing-sessions"})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/editing-sessions/".concat(t),body:e})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/editing-sessions/".concat(t)})},e.TYPE="editing_session",e}(xr),$o=Ko,Xo=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xo(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/sso-groups"})},e.prototype.copyRoles=function(t){return this.rawCopyRoles(jr(t)).then(function(t){return R(t)})},e.prototype.rawCopyRoles=function(t){return this.client.request({method:"POST",url:"/sso-groups/".concat(t,"/copy-roles")})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"sso_group",attributes:["priority"],relationships:["role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/sso-groups/".concat(t),body:e})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t)).then(function(t){return R(t)})},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/sso-groups/".concat(t)})},e.TYPE="sso_group",e}(xr),Zo=Jo,ti=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ti(e,t),e.prototype.find=function(){return this.rawFind().then(function(t){return R(t)})},e.prototype.rawFind=function(){return this.client.request({method:"GET",url:"/sso-settings"})},e.prototype.generateToken=function(){return this.rawGenerateToken().then(function(t){return R(t)})},e.prototype.rawGenerateToken=function(){return this.client.request({method:"PUT",url:"/sso-settings/generate-token"})},e.prototype.update=function(t){return this.rawUpdate(Sr(t,{type:"sso_settings",attributes:["idp_saml_metadata_url"],relationships:["default_role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t){return this.client.request({method:"PUT",url:"/sso-settings",body:t})},e.TYPE="sso_settings",e}(xr),ri=ei,ni=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ni(e,t),e.prototype.find=function(){return this.rawFind().then(function(t){return R(t)})},e.prototype.rawFind=function(){return this.client.request({method:"GET",url:"/white-label-settings"})},e.prototype.update=function(t){return this.rawUpdate(Sr(t,{type:"white_label_settings",attributes:["custom_i18n_messages_template_url"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t){return this.client.request({method:"PUT",url:"/white-label-settings",body:t})},e.TYPE="white_label_settings",e}(xr),ii=oi,ui=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ui(e,t),e.prototype.find=function(){return this.rawFind().then(function(t){return R(t)})},e.prototype.rawFind=function(){return this.client.request({method:"GET",url:"/public-info"})},e.TYPE="public_info",e}(xr),si=ai,ci=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ci(e,t),e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/daily-site-usages"})},e.TYPE="daily_usage",e}(xr),pi=li,fi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.find=function(t,e){return this.rawFind(jr(t),e).then(function(t){return R(t)})},e.prototype.rawFind=function(t,e){return this.client.request({method:"GET",url:"/usage-log-counters/".concat(t),queryParams:e})},e.TYPE="usage_counter",e}(xr),hi=yi,di=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mi=function(){return mi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},mi.apply(this,arguments)},bi=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},wi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},_i=function(t){return this instanceof _i?(this.v=t,this):new _i(t)},vi=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof _i?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return di(e,t),e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/upload-tags",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return vi(this,arguments,function(){var r,n,o,i,u;return bi(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=wi(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,_i(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,_i(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,_i(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:50,maxLimit:500},function(e){return r.rawList(mi(mi({},t),{page:e}))},e)},e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"upload_tag",attributes:["name"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/upload-tags",body:t})},e.TYPE="upload_tag",e}(xr),Ei=gi,Pi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oi=function(){return Oi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Oi.apply(this,arguments)},Ti=function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Si=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){!function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)}(n,o,(e=t[r](e)).done,e.value)})}}},ji=function(t){return this instanceof ji?(this.v=t,this):new ji(t)},xi=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){i.push([t,e,r,n])>1||a(t,e)})})}function a(t,e){try{(r=o[t](e)).value instanceof ji?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function s(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pi(e,t),e.prototype.list=function(t){return this.rawList(t).then(function(t){return R(t)})},e.prototype.rawList=function(t){return this.client.request({method:"GET",url:"/upload-smart-tags",queryParams:t})},e.prototype.listPagedIterator=function(t,e){return xi(this,arguments,function(){var r,n,o,i,u;return Ti(this,function(a){switch(a.label){case 0:a.trys.push([0,7,8,13]),r=Si(this.rawListPagedIterator(t,e)),a.label=1;case 1:return[4,ji(r.next())];case 2:return(n=a.sent()).done?[3,6]:[4,ji(U(n.value))];case 3:return[4,a.sent()];case 4:a.sent(),a.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return o=a.sent(),i={error:o},[3,13];case 8:return a.trys.push([8,,11,12]),n&&!n.done&&(u=r.return)?[4,ji(u.call(r))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw i.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.rawListPagedIterator=function(t,e){var r=this;return nt({defaultLimit:50,maxLimit:500},function(e){return r.rawList(Oi(Oi({},t),{page:e}))},e)},e.TYPE="upload_smart_tag",e}(xr),Ai=ki,qi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qi(e,t),e.prototype.find=function(t){return this.rawFind(t).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/site",queryParams:t})},e.prototype.update=function(t){return this.rawUpdate(Sr(t,{type:"site",attributes:["no_index","favicon","global_seo","name","theme","locales","timezone","require_2fa","ip_tracking_enabled"],relationships:["sso_default_role"]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t){return this.client.request({method:"PUT",url:"/site",body:t})},e.prototype.activateImprovedTimezoneManagement=function(){return this.rawActivateImprovedTimezoneManagement().then(function(t){return R(t)})},e.prototype.rawActivateImprovedTimezoneManagement=function(){return this.client.request({method:"PUT",url:"/site/activate-improved-timezone-management"})},e.TYPE="site",e}(xr),Ci=Ii,Di=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Di(e,t),e.prototype.create=function(t){return this.rawCreate(Sr(t,{type:"workflow",attributes:["name","api_key","stages"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawCreate=function(t){return this.client.request({method:"POST",url:"/workflows",body:t})},e.prototype.update=function(t,e){return this.rawUpdate(jr(t),Sr(e,{id:jr(t),type:"workflow",attributes:["name","api_key","stages"],relationships:[]})).then(function(t){return R(t)})},e.prototype.rawUpdate=function(t,e){return this.client.request({method:"PUT",url:"/workflows/".concat(t),body:e})},e.prototype.list=function(){return this.rawList().then(function(t){return R(t)})},e.prototype.rawList=function(){return this.client.request({method:"GET",url:"/workflows"})},e.prototype.find=function(t){return this.rawFind(jr(t)).then(function(t){return R(t)})},e.prototype.rawFind=function(t){return this.client.request({method:"GET",url:"/workflows/".concat(t)})},e.prototype.destroy=function(t){return this.rawDestroy(jr(t))},e.prototype.rawDestroy=function(t){return this.client.request({method:"DELETE",url:"/workflows/".concat(t)})},e.TYPE="workflow",e}(xr),Ui=Li,Ri=function(){return Ri=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ri.apply(this,arguments)},Fi=function(){function t(t){this.config=t,this.roles=new Gr(this),this.users=new Yr(this),this.ssoUsers=new zr(this),this.auditLogEvents=new $r(this),this.menuItems=new Zr(this),this.itemTypes=new rn(this),this.fields=new un(this),this.fieldsets=new cn(this),this.session=new fn(this),this.accessTokens=new dn(this),this.plugins=new wn(this),this.jobResults=new gn(this),this.subscriptionLimits=new On(this),this.subscriptionFeatures=new jn(this),this.buildEvents=new An(this),this.items=new Fn(this),this.itemVersions=new Wn(this),this.uploads=new to(this),this.uploadRequest=new no(this),this.scheduledPublication=new uo(this),this.scheduledUnpublishing=new co(this),this.searchResults=new wo(this),this.environments=new go(this),this.maintenanceMode=new Oo(this),this.webhooks=new jo(this),this.webhookCalls=new Lo(this),this.buildTriggers=new Fo(this),this.itemTypeFilters=new Go(this),this.uploadFilters=new Yo(this),this.siteInvitations=new zo(this),this.editingSessions=new $o(this),this.ssoGroups=new Zo(this),this.ssoSettings=new ri(this),this.whiteLabelSettings=new ii(this),this.publicInfo=new si(this),this.dailyUsages=new pi(this),this.usageCounters=new hi(this),this.uploadTags=new Ei(this),this.uploadSmartTags=new Ai(this),this.site=new Ci(this),this.workflows=new Ui(this)}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.config.baseUrl||t.defaultBaseUrl},enumerable:!1,configurable:!0}),t.prototype.request=function(t){var e=this;return Er(Ri(Ri(Ri({},this.config),t),{logFn:this.config.logFn||console.log,userAgent:"@datocms/cma-client",baseUrl:this.baseUrl,preCallStack:(new Error).stack,extraHeaders:Ri(Ri(Ri({},this.config.extraHeaders||{}),this.config.environment?{"X-Environment":this.config.environment}:{}),{"X-API-Version":"3"}),fetchJobResult:function(t){return e.jobResultsFetcher?e.jobResultsFetcher(t):function(r){return n=this,i=function(){var r,n,o;return function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,F(1e3*(n+=1))];case 2:return i.sent(),[4,e.jobResults.find(t)];case 3:return r=i.sent(),[3,5];case 4:if(!((o=i.sent())instanceof D)||404!==o.response.status)throw o;return[3,5];case 5:if(!r)return[3,1];i.label=6;case 6:return[2,r]}})},new((o=void 0)||(o=Promise))(function(t,e){function r(t){try{a(i.next(t))}catch(t){e(t)}}function u(t){try{a(i.throw(t))}catch(t){e(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o(function(t){t(n)})).then(r,u)}a((i=i.apply(n,[])).next())});var n,o,i}()}}))},t.prototype.eventsChannelName=function(){return t=this,r=function(){var t;return function(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(e){switch(e.label){case 0:return this.cachedEventsChannelName?[2,this.cachedEventsChannelName]:[4,this.site.rawFind()];case 1:return t=e.sent().data,this.cachedEventsChannelName=this.config.environment?"private-site-".concat(t.id,"-environment-").concat(this.config.environment):"private-site-".concat(t.id),[2,this.cachedEventsChannelName]}})},new((e=void 0)||(e=Promise))(function(n,o){function i(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var r;t.done?n(t.value):(r=t.value,r instanceof e?r:new e(function(t){t(r)})).then(i,u)}a((r=r.apply(t,[])).next())});var t,e,r},t.defaultBaseUrl="https://site-api.datocms.com",t}(),Ni=e.gql(Rr||(Fr=["\n  query Global {\n    site: _site {\n      favicon: faviconMetaTags {\n      attributes\n      content\n      tag\n    }\n    globalSeo {\n      facebookPageUrl\n      siteName\n      titleSuffix\n      twitterAccount\n      fallbackSeo {\n        description\n        title\n        twitterCard\n        image {\n          id\n          title\n          width\n          responsiveImage {\n            alt\n            aspectRatio\n            base64\n            bgColor\n            height\n            sizes\n            src\n            srcSet\n            webpSrcSet\n            title\n            width\n          }\n        }\n      }\n    }\n  }\n}\n"],Nr||(Nr=Fr.slice(0)),Fr.raw=Nr,Rr=Fr));t.DatoSEO=function(t){var e=t.seo,r=t.site,n=void 0===r?{}:r,o=t.pathname,i=t.title,u=t.subtitle,a=t.description,s=t.noindex,c=void 0!==s&&s,p=function(t){var e=t.seo,r=t.site,n=t.pathname;if(!e||!r)return[];var o=(r||{}).globalSeo,i=(o||{}).fallbackSeo,u=(Array.isArray(e)?e:e.tags)||[],a=u.filter(function(t){return"title"===t.tag})[0];a&&o&&("/"===n?a=_({},a,{content:o.siteName}):o&&a.content.startsWith(o.siteName)&&(a=_({},a,{content:o.siteName+" – "+a.content}))),u=u.map(function(t){return"title"!==t.tag?t:a});var s={};if(u.forEach(function(t){s[t.attributes?t.attributes.property||t.attributes.name:t.tag]=t.attributes?t.attributes.content||t.attributes:t.content}),!s["og:image"]&&null!=i&&i.image){var c=1-(i.image.width-1e3)/i.image.width;s["og:image"]=i.image.url+"?w=1000",s["og:image:width"]=1e3,s["og:image:height"]=Math.round(i.image.height*c)}return s}({seo:void 0===e?{}:e,site:n,pathname:o}),f=n.globalSeo,y=n.favicon,d=y?y.map(function(t){return _({},t.attributes)}):[],m=function(t,e,r){if(t)return t.split("?"),[{url:t,width:e,height:r}]}(p["og:image"],p["og:image:width"],p["og:image:height"]),b=""+process.env.NEXT_PUBLIC_SITE_URL+(o||"");return i=(i=i||(f?null==f?void 0:f.siteName:"Site title"))+" "+(null!=f&&f.titleSuffix?" "+(null==f?void 0:f.titleSuffix):"")+(u?" "+u:""),a=a||(p.description?p.description:f?null==f?void 0:f.fallbackSeo.description:"Site description"),h(l.NextSeo,{title:i,description:a,canonical:b,openGraph:{url:b,title:i,description:a,images:m,locale:p["og:locale"],type:p["og:type"],site_name:p["og:site_name"]},twitter:{title:i,image:p["og:image"],handle:null==f?void 0:f.twitterAccount,site:null==f?void 0:f.twitterAccount,cardType:"summary_large_image"},additionalLinkTags:d,noindex:c,nofollow:c})},t.Markdown=function(t){var e=t.children,r=t.truncate,n=t.className,o=t.sentances;if(!e)return null;var i=r?m.default(e,{limit:r,ellipsis:!0}):o?function(t,e){if(!t)return t;var r=t.split(".");return r.length>=e?r.slice(0,e).join(" ")+"...":t}(e,o):e;return h(f.default,{remarkPlugins:[y.default,b.default],className:n,children:i,components:{a:function(t){return h(d.default,{scroll:!1,href:t.href,prefetch:!1},h("a",null,t.children[0]))}}})},t.SEOQuery=x,t.apiQuery=k,t.usePreviousRoute=function(){var t=globalThis.sessionStorage,e=n.useRouter(),r=o.useState(void 0!==t?t.getItem("previousRoute"):null),i=r[0],u=r[1];return o.useEffect(function(){var r=t.getItem("currentRoute");r!==e.asPath&&(t.setItem("previousRoute",r),t.setItem("currentRoute",e.asPath),u(r))},[e.asPath,t]),o.useEffect(function(){var e=function(e){t.removeItem("previousRoute"),t.removeItem("currentRoute")};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),i},t.useScrollInfo=function(t){void 0===t&&(t=0);var e="undefined"==typeof window,r=o.useState({isScrolling:!1,isPageTop:!1,isPageBottom:!1,isScrolledUp:!0,isScrolledDown:!1,scrolledPosition:e?0:window.pageYOffset,documentHeight:e?0:document.documentElement.offsetHeight,viewportHeight:e?0:window.innerHeight,timer:null}),n=r[0],i=r[1],u=o.useRef(n),a=o.useCallback(function(){clearTimeout(u.current.timer);var r=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),n=e?0:window.innerHeight,o=e?0:Math.max(0,Math.ceil(window.pageYOffset)),a=!e&&window.innerHeight+o>=r-t,s={isScrolling:!0,isPageTop:!!e||window.pageYOffset<=0,isPageBottom:a,isScrolledUp:o<u.current.scrolledPosition,isScrolledDown:o>u.current.scrolledPosition,scrolledPosition:o,documentHeight:r,viewportHeight:n,timer:u.current.timer};i(s),u.current=_({},s,{timer:setTimeout(function(){return i(_({},s,{isScrolling:!1}))},100)})},[e,t]);return o.useEffect(function(){return window.addEventListener("scroll",a),function(){window.removeEventListener("scroll",a)}},[a]),n},t.useTransitionFix=function(){return o.useEffect(function(){Array.from(document.querySelectorAll('head > link[rel="stylesheet"][data-n-p]')).forEach(function(t){t.removeAttribute("data-n-p")});var t=new MutationObserver(function(t){t.forEach(function(t){var e=t.target;"STYLE"===e.nodeName&&"x"===e.getAttribute("media")&&e.removeAttribute("media")})});return t.observe(document.head,{subtree:!0,attributeFilter:["media"]}),function(){t.disconnect()}},[])},t.utils=w,t.withGlobalProps=function(t,e){var r=parseInt(process.env.REVALIDATE_TIME),n=[Ni];return t.query&&n.push(t.query),t.queries&&n.push.apply(n,t.queries),t.seo&&n.push(x(t.seo)),function(t){try{return Promise.resolve(k(n,{preview:t.preview})).then(function(n){return e?Promise.resolve(e({context:t,props:_({},n),revalidate:r})):{props:_({},n),context:t,revalidate:r}})}catch(t){return Promise.reject(t)}}},t.withPreview=function(t,e){try{if(t.query.secret!==process.env.DATOCMS_PREVIEW_SECRET||!t.query.slug)return Promise.resolve(e.status(401).json({message:"Invalid token"}));var r=t.query.slug;try{e.setPreviewData({},{maxAge:10}),e.writeHead(307,{Location:r||"/"}),e.end()}catch(t){return console.error(t),Promise.resolve(e.status(401).json({message:"Error previewing page!"}))}return Promise.resolve()}catch(t){return Promise.reject(t)}},t.withRevalidate=function(t){return function(e,r){try{var n;if(!function(t){var e=t.headers.authorization;if(!e)return!0;var r=e.split(" ")[1],n=Buffer.from(r,"base64").toString().split(":");return n[0]===process.env.BASIC_AUTH_USER&&n[1]===process.env.BASIC_AUTH_PASSWORD}(e))return Promise.resolve(r.status(401).send("Access denied"));var o=null==(n=e.body)?void 0:n.entity;if(!o)throw"Payload is empty";return Promise.resolve(function(t){try{var e,r,n,o=null==t||null==(e=t.relationships)||null==(r=e.item_type)||null==(n=r.data)?void 0:n.id;if(!o)throw"Model id not found in payload!";console.log("resolve modelId",o);var i=(u={apiToken:process.env.NEXT_PUBLIC_GRAPHQL_API_TOKEN,requestTimeout:3e3},new Fi(u));return Promise.resolve(i.itemTypes.list()).then(function(e){var r=e.find(function(t){return t.id===o});return Promise.resolve(i.items.list({filter:{type:r.api_key,fields:{id:{eq:t.id}}}})).then(function(t){var e=t[0];if(!e)throw"No record found with modelId: "+o;return console.log("revalidate",r.api_key),_({},e,{model:r})})})}catch(t){return Promise.reject(t)}var u}(o)).then(function(e){t(e,function(t){try{return Promise.resolve(function(e,n){try{var o=function(){if(!t.length)throw"Nothing to revalidate";return console.log("revalidating paths",t),Promise.resolve(Promise.all(t.map(function(t){return r.revalidate(t)}))).then(function(){return console.log("revalidating done!"),r.json({revalidated:!0,paths:t})})}()}catch(t){return n(t)}return o&&o.then?o.then(void 0,n):o}(0,function(t){return console.error(t),r.json({revalidated:!1,err:t})}))}catch(t){return Promise.reject(t)}})})}catch(t){return Promise.reject(t)}}}});
//# sourceMappingURL=dato-nextjs-utils.umd.js.map
